(this["webpackJsonpcoupons-system"]=this["webpackJsonpcoupons-system"]||[]).push([[0],{378:function(e,t,n){},379:function(e,t,n){},380:function(e,t,n){},386:function(e,t,n){},387:function(e,t,n){},390:function(e,t,n){},391:function(e,t,n){},392:function(e,t,n){},393:function(e,t,n){},394:function(e,t,n){},470:function(e,t,n){},471:function(e,t,n){},472:function(e,t,n){},473:function(e,t,n){},474:function(e,t,n){},475:function(e,t,n){},476:function(e,t,n){},477:function(e,t,n){},478:function(e,t,n){},479:function(e,t,n){},480:function(e,t,n){},481:function(e,t,n){},482:function(e,t,n){"use strict";n.r(t);var a,o=n(0),s=n.n(o),r=n(18),c=n.n(r),i=(n(378),function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,889)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),s(e),r(e)}))}),u=(n(379),n(19)),l=n(26),p=function e(){Object(l.a)(this,e),this.id=void 0,this.email=void 0,this.name=void 0,this.password=void 0,this.token=void 0,this.userType=void 0};!function(e){e.ADMIN="ADMIN",e.COMPANY="COMPANY",e.CUSTOMER="CUSTOMER"}(a||(a={}));var d,h=n(358),j=function e(){Object(l.a)(this,e),this.user=new p};function m(e){return{type:d.LOGIN,payload:e}}!function(e){e.LOGIN="LOGIN",e.LOGOUT="LOGOUT"}(d||(d={}));var b=n(93),O=Object(b.c)({AuthState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new j,t=arguments.length>1?arguments[1]:void 0,n=Object(h.a)({},e);switch(t.type){case d.LOGIN:n.user=t.payload,sessionStorage.setItem("user",JSON.stringify(n.user)),console.log(t.payload);break;case d.LOGOUT:n.user=null,localStorage.removeItem("user")}return n}}),f=Object(b.e)(O),x=(n(380),n.p+"static/media/coupFunIcon.833c4afa.png"),C=n(313),g=n(314),y=n(315),v=n(100),S=n(519),w=n(21),T=n(2);var N=function(){var e=Object(C.a)((function(e){return Object(g.a)({xSmall:{width:e.spacing(5),height:e.spacing(5)},small:{width:e.spacing(10),height:e.spacing(10)},medium:{width:e.spacing(12),height:e.spacing(12)},large:{width:e.spacing(15),height:e.spacing(15)},xLarge:{width:e.spacing(18),height:e.spacing(18)}})}))();return Object(T.jsx)(y.a,{className:"Logo",children:Object(T.jsxs)(w.c,{to:"/home",children:[Object(T.jsx)(v.a,{className:"coup-fun-name",variant:"h5",children:"CoupManager"}),Object(T.jsx)(S.a,{className:e.small+" coup-fun-logo",src:x,alt:"coup-fun-logo"})]})})},k=n(9),A=n.n(k),R=n(16),D=n(36),M=n(35),E=n(34),I=(n(386),function(e){Object(M.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={user:null},a}return Object(D.a)(n,[{key:"componentWillMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=f.getState().AuthState.user,this.setState({user:t})}catch(n){alert("Error: "+n.message)}case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(T.jsx)("div",{className:"UserCard",children:Object(T.jsxs)("div",{children:[1===P()&&Object(T.jsxs)("span",{children:["Good Night ",Object(T.jsx)("br",{})," ",this.state.user.name]}),2===P()&&Object(T.jsxs)("span",{children:["Good Morning ",Object(T.jsx)("br",{}),this.state.user.name]}),3===P()&&Object(T.jsxs)("span",{children:["Good Afternoon ",Object(T.jsx)("br",{}),this.state.user.name]}),4===P()&&Object(T.jsxs)("span",{children:["Good Evening",Object(T.jsx)("br",{})," ",this.state.user.name]})]})})}}]),n}(o.Component));function P(){var e=(new Date).getHours();switch(!0){case e<6:return 1;case e<12:return 2;case e<18:return 3;case e<22:return 4;default:return 1}}n(387);var U=n(316),B=n(189),q=n(317),L=n(41),F=n(40),Y=n(17),G=n(359),_=new(function(){function e(){Object(l.a)(this,e),this.notification=new G.a({duration:2e3,position:{x:"right",y:"bottom"}})}return Object(D.a)(e,[{key:"success",value:function(e){this.notification.success(e)}},{key:"error",value:function(e){var t=this.extractMessage(e);this.notification.error(t)}},{key:"extractMessage",value:function(e){var t,n;return"string"===typeof e?e:"string"===typeof(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)?e.response.data:Array.isArray(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data)?e.response.data[0]:"string"===typeof(null===e||void 0===e?void 0:e.message)?e.message:"some error occurred, please try again"}}]),e}());n(390);var H=function(){function e(){_.success("You are logged out of the Coupons System"),f.dispatch({type:d.LOGOUT}),t.push("/home")}var t=Object(Y.g)();return Object(T.jsx)(U.a,{className:"Logout",endIcon:Object(T.jsx)(F.a,{icon:L.f}),onClick:function(){return e()},children:"Logout"})};n(391);function z(){var e=Object(o.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],s=function(){a(null)};return Object(T.jsxs)("div",{className:"AdminMenu",children:[Object(T.jsx)(U.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)},children:"Open Menu"}),Object(T.jsxs)(B.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:s,children:[Object(T.jsxs)(q.a,{onClick:s,children:[" ",Object(T.jsx)(w.c,{to:"/admin/companiesTable/",children:"Companies"})]}),Object(T.jsx)(q.a,{onClick:s,children:Object(T.jsx)("span",{children:Object(T.jsx)(w.c,{to:"/admin/customersTable/",children:"Customers"})})}),Object(T.jsx)(q.a,{onClick:s,children:Object(T.jsx)(H,{})})]})]})}n(392);function V(){var e=Object(o.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],s=function(){a(null)};return Object(T.jsxs)("div",{className:"CustomerMenu",children:[Object(T.jsx)(U.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)},children:"Open Menu"}),Object(T.jsxs)(B.a,{style:{color:"antiquewhite"},id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:s,children:[Object(T.jsxs)(q.a,{onClick:s,children:[" ",Object(T.jsx)(w.c,{to:"/customer/allCouponsTable",children:"Purchase Coupons"})]}),Object(T.jsx)(q.a,{onClick:s,children:Object(T.jsx)(w.c,{to:"/customer/CustomerCouponsTable",children:"My Coupons"})}),Object(T.jsx)(q.a,{onClick:s,children:Object(T.jsx)(w.c,{to:"/customerCard/",children:"My Details"})}),Object(T.jsx)(q.a,{onClick:s,children:Object(T.jsx)(H,{})})]})]})}n(393);function K(){var e=Object(o.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],s=function(){a(null)};return Object(T.jsxs)("div",{className:"CompanyMenu",children:[Object(T.jsx)(U.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)},children:"Open Menu"}),Object(T.jsxs)(B.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:s,children:[Object(T.jsxs)(q.a,{onClick:s,children:[" ",Object(T.jsx)(w.c,{to:"/company/couponsTable/",children:"Coupons"})]}),Object(T.jsx)(q.a,{onClick:s,children:Object(T.jsx)(w.c,{to:"/companyCard",children:"Company Details"})}),Object(T.jsx)(q.a,{onClick:s,children:Object(T.jsx)(H,{})})]})]})}var J=function(){var e=Object(o.useState)(),t=Object(u.a)(e,2),n=t[0],s=t[1];return Object(o.useEffect)((function(){f.subscribe((function(){return s(f.getState().AuthState.user)}))}),[]),Object(T.jsxs)("div",{className:"Header",children:[Object(T.jsx)("h1",{children:"COUPON MANAGER"}),Object(T.jsx)("h3",{children:"organize your coupons with world class efficiency"}),Object(T.jsx)("span",{className:"UserCard",children:n&&Object(T.jsx)(I,{})}),Object(T.jsx)(N,{}),Object(T.jsxs)("span",{className:"menu",children:[n&&n.userType===a.ADMIN&&Object(T.jsx)(z,{}),n&&n.userType===a.COMPANY&&Object(T.jsx)(K,{}),n&&n.userType===a.CUSTOMER&&Object(T.jsx)(V,{})]})]})};n(394);var W=function(){return Object(T.jsx)("div",{className:"Footer",children:Object(T.jsx)("h4",{children:"  All rights reserved to Gad Torrefranca \xa9"})})},X=n(28),Z=n(76),Q=n.n(Z),$=n(207),ee=n.n($),te=ee.a.create();te.interceptors.request.use((function(e){var t;return e.headers={token:null===(t=f.getState().AuthState.user)||void 0===t?void 0:t.token},e}));var ne=te,ae=(n(470),function e(){Object(l.a)(this,e)}),oe=function(e){Object(M.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).urls={loginAdmin:"http://localhost:8080/admin/login?email=",loginCompany:"http://localhost:8080/company/login?email=",loginCustomer:"http://localhost:8080/customer/login?email=",password:"&password=",getAllCompanies:"http://localhost:8080/admin/getAllCompanies",addCompany:"http://localhost:8080/admin/addCompany",updateCompany:"http://localhost:8080/admin/updateCompany",deleteCompany:"http://localhost:8080/admin/deleteCompany?id=",getAllCustomers:"http://localhost:8080/admin/getAllCustomers",addCustomer:"http://localhost:8080/admin/addCustomer",updateCustomer:"http://localhost:8080/admin/updateCustomer",deleteCustomer:"http://localhost:8080/admin/deleteCustomer?id=",getCompanyCoupons:"http://localhost:8080/company/getCompanyCoupons",getCompanyCouponsByCategory:"http://localhost:8080/company/getCompanyCouponsByCategory?category=",getCompanyCouponsByMaxPrice:"http://localhost:8080/company/getCompanyCouponsByPrice?maxPrice=",addCoupon:"http://localhost:8080/company/addCoupon",updateCoupon:"http://localhost:8080/company/updateCoupon",deleteCoupon:"http://localhost:8080/company/deleteCoupon?id=",getAllCoupons:"http://localhost:8080/customer/getAllCoupons",purchaseCoupon:"http://localhost:8080/customer/purchaseCoupon",getCustomerCoupons:"http://localhost:8080/customer/getCustomerCoupons",getCustomerCouponsByCategory:"http://localhost:8080/customer/getCustomerCouponsByCategory?category=",getCustomerCouponsByMaxPrice:"http://localhost:8080/customer/getCustomerCouponsByPrice?maxPrice=",getCompanyDetails:"http://localhost:8080/company/getCompanyDetails",getOneCompany:"http://localhost:8080/admin/getOneCompany?id=",getOneCouponCompany:"http://localhost:8080/company/getOneCoupon/",getOneCouponCustomer:"http://localhost:8080/customer/getOneCoupon/",getCouponImage:"http://localhost:8080/pics/"},e}return n}(ae),se=new oe,re=function(e){Object(M.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onAdd=function(){var e=Object(R.a)(A.a.mark((function e(t){var n,o,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.post(se.urls.addCompany,t);case 3:return n=e.sent,o=n.data,(s=Object(X.a)(a.state.companies)).push(o),a.setState({companies:s}),_.success("Company "+t.name+" has been successfully added to the database"),e.abrupt("return",o.id);case 12:e.prev=12,e.t0=e.catch(0),_.error("Error: "+e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),a.onEdit=function(){var e=Object(R.a)(A.a.mark((function e(t,n){var o,s,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.put(se.urls.updateCompany,t);case 3:o=e.sent,s=o.data,(r=Object(X.a)(a.state.companies)).splice(r.indexOf(n),1),r.push(s),a.setState({companies:r}),_.success("Company "+t.name+" has been successfully updated"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),_.error("Error: "+e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),a.state={companies:[],selectedRow:null},a}return Object(D.a)(n,[{key:"componentDidMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.get(se.urls.getAllCompanies);case 3:t=e.sent,this.setState({companies:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.history.push("/home");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"onDelete",value:function(){var e=Object(R.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.delete(se.urls.deleteCompany+t.id);case 3:e.sent,(n=Object(X.a)(this.state.companies)).splice(n.indexOf(t),1),_.success("Company "+t.name+" has been successfully deleted from the database"),this.setState({companies:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),_.error("Error: "+e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(T.jsxs)("div",{className:"CompaniesTable",children:[Object(T.jsx)(Q.a,{data:this.state.companies,onRowClick:function(t,n){e.setState({selectedRow:n}),e.state.selectedRow===n&&e.setState({selectedRow:null})},options:{sorting:!0,search:!1,rowStyle:function(t){return{backgroundColor:e.state.selectedRow===t?"#67aeae":"#FFF"}}},localization:{body:{editRow:{deleteText:"Are you sure you want to this company from the database?"}}},title:"Companies",columns:[{title:"ID",field:"id"},{title:"Name",field:"name"},{title:"Email",field:"email"},{title:"Password",field:"password"}],editable:{onRowAdd:function(t){return new Promise((function(n,a){e.onAdd(t),n()}))},onRowUpdate:function(t,n){return new Promise((function(a,o){e.onEdit(t,n),a()}))},onRowDelete:function(t){return new Promise((function(n,a){e.onDelete(t),n()}))}}}),Object(T.jsx)("span",{children:this.state.selectedRow&&Object(T.jsx)(w.c,{className:"Box",to:"/companyCard/"+this.state.selectedRow.id,children:Object(T.jsx)(U.a,{className:"CompanyButton",children:"Show Company"})})})]})}}]),n}(o.Component),ce=function(e){Object(M.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onAdd=function(){var e=Object(R.a)(A.a.mark((function e(t){var n,o,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.post(se.urls.addCustomer,t);case 3:n=e.sent,o=n.data,(s=Object(X.a)(a.state.customers)).push(o),_.success("Customer "+t.firstName+" "+t.lastName+" has been successfully added to the database"),a.setState({customers:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),_.error("Error: "+e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),a.onEdit=function(){var e=Object(R.a)(A.a.mark((function e(t,n){var o,s,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.put(se.urls.updateCustomer,t);case 3:o=e.sent,s=o.data,(r=Object(X.a)(a.state.customers)).splice(r.indexOf(n),1),r.push(s),_.success("Customer "+t.firstName+" "+n.lastName+" has been successfully updated in the database"),a.setState({customers:r}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),_.error("Error: "+e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),a.state={customers:[],selectedRow:null},a}return Object(D.a)(n,[{key:"componentDidMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.get(se.urls.getAllCustomers);case 3:t=e.sent,this.setState({customers:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.history.push("/home");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"onDelete",value:function(){var e=Object(R.a)(A.a.mark((function e(t){var n,a,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.delete(se.urls.deleteCustomer+t.id);case 3:n=e.sent,a=n.data,(o=Object(X.a)(this.state.customers)).splice(o.indexOf(a),1),_.success("Customer "+t.firstName+" "+t.lastName+" has been successfully deleted from the database"),this.setState({customers:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),_.error("Error: "+e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return f.getState().AuthState.user.userType!==a.ADMIN&&this.props.history.push("/home"),Object(T.jsxs)("div",{className:"CustomersTable",children:[Object(T.jsx)(Q.a,{onRowClick:function(t,n){e.setState({selectedRow:n}),e.state.selectedRow===n&&e.setState({selectedRow:null})},options:{sorting:!0,search:!1,rowStyle:function(t){return{backgroundColor:e.state.selectedRow===t?"#67aeae":"#FFF"}}},localization:{body:{editRow:{deleteText:"Are you sure you want to this customer from the database?"}}},title:"Customers",columns:[{title:"ID",field:"id"},{title:"First Name",field:"firstName"},{title:"Last Name",field:"lastName"},{title:"Email",field:"email"},{title:"Password",field:"password"}],data:this.state.customers.sort((function(e,t){return e.id-t.id})),editable:{onRowAdd:function(t){return new Promise((function(n,a){e.onAdd(t),n()}))},onRowUpdate:function(t,n){return new Promise((function(a,o){e.onEdit(t,n),a()}))},onRowDelete:function(t){return new Promise((function(n,a){e.onDelete(t),n()}))}}}),Object(T.jsx)("span",{children:this.state.selectedRow&&Object(T.jsx)(w.c,{className:"Box",to:"/customerCard/"+this.state.selectedRow.id,children:Object(T.jsx)(U.a,{className:"CustomerButton",children:"Show Customer"})})})]})}}]),n}(o.Component),ie=n(513),ue=n(331),le=n(334),pe=n(245),de=n(246),he=n(247),je=n(249),me=n(514),be=n(515),Oe=n(134);n(471);var fe=function(){var e=Object(Y.g)(),t=Object(Oe.a)(),n=t.register,s=t.handleSubmit,r=Object(o.useState)(!1),c=Object(u.a)(r,2),i=c[0],l=c[1];function p(){return(p=Object(R.a)(A.a.mark((function t(n){var o,s;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n.userType,t.next="ADMIN"===t.t0?3:"COMPANY"===t.t0?5:"CUSTOMER"===t.t0?7:9;break;case 3:return o=se.urls.loginAdmin+n.email+se.urls.password+n.password,t.abrupt("break",9);case 5:return o=se.urls.loginCompany+n.email+se.urls.password+n.password,t.abrupt("break",9);case 7:return o=se.urls.loginCustomer+n.email+se.urls.password+n.password,t.abrupt("break",9);case 9:return t.prev=9,t.next=12,ee.a.post(o,n);case 12:s=t.sent,f.dispatch(m(s.data)),f.getState().AuthState.user.userType===a.ADMIN&&e.push("/admin/companiesTable"),f.getState().AuthState.user.userType===a.COMPANY&&e.push("/company/couponsTable"),f.getState().AuthState.user.userType===a.CUSTOMER&&e.push("/customer/CustomerCouponsTable"),f.getState().AuthState.user&&_.success("You are now logged in"),!f.getState().AuthState.user&&_.error("Login failed: illegal credentials"),t.next=24;break;case 21:t.prev=21,t.t1=t.catch(9),_.error("Login failed: "+t.t1);case 24:case"end":return t.stop()}}),t,null,[[9,21]])})))).apply(this,arguments)}var d=Object(C.a)((function(e){return Object(g.a)({root:{"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#67aeae"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"& .MuiOutlinedInput-input":{color:"white",fontFamily:'"Mukta",sans-serif'},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-input":{color:"white",fontFamily:'"Mukta",sans-serif'},"& .MuiInputLabel-outlined":{color:"white",fontFamily:'"Mukta",sans-serif'}},select:{width:"40%",textAlign:"center",margin:e.spacing(1),minWidth:120,"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#67aeae"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"& .MuiOutlinedInput-input":{color:"white",fontFamily:'"Mukta",sans-serif'},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-input":{color:"white",fontFamily:'"Mukta",sans-serif'},"& .MuiInputLabel-outlined":{color:"white",fontFamily:'"Mukta",sans-serif'}}})}))(),h=[{id:1,label:"ADMIN",type:a.ADMIN},{id:2,label:"COMPANY",type:a.COMPANY},{id:3,label:"CUSTOMER",type:a.CUSTOMER}];return Object(T.jsx)("div",{className:"Login Box",children:Object(T.jsxs)(ie.a,{className:"login-container",children:[Object(T.jsx)(v.a,{variant:"h6",children:"LOG IN"}),Object(T.jsxs)("form",{onSubmit:s((function(e){return p.apply(this,arguments)})),children:[Object(T.jsx)("div",{className:"email-container",children:Object(T.jsx)(ue.a,{label:"Email",variant:"outlined",className:"".concat(d.root," TextBox"),inputRef:n({required:!0}),type:"email",name:"email"})}),Object(T.jsx)("div",{className:"password-container",children:Object(T.jsx)(ue.a,{label:"Password",variant:"outlined",className:"".concat(d.root," TextBox"),inputRef:n({required:!0}),type:i?"text":"password",name:"password",InputProps:{endAdornment:Object(T.jsx)(le.a,{position:"end",children:Object(T.jsx)(pe.a,{style:{color:"white"},onClick:function(){l((function(e){return!e}))},children:i?Object(T.jsx)(be.a,{}):Object(T.jsx)(me.a,{})})})}})}),Object(T.jsx)("div",{className:"user-type-container",children:Object(T.jsxs)(de.a,{variant:"outlined",className:d.select,children:[Object(T.jsx)(he.a,{children:"User Type"}),Object(T.jsx)(je.a,{label:"User Type",onChange:function(e){return n({required:!0,name:"userType",value:e.target.value})},children:h.map((function(e){return Object(T.jsx)(q.a,{value:e.type,children:e.label},e.id)}))})]})}),Object(T.jsx)("br",{}),Object(T.jsx)(U.a,{type:"submit",children:"Enter"})]})]})})},xe=(n(472),function(e){Object(M.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={user:null},a}return Object(D.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.subscribe((function(){return e.setState({user:f.getState().AuthState.user})}))}},{key:"render",value:function(){return Object(T.jsx)("div",{className:"Home",children:!this.state.user&&Object(T.jsx)(fe,{})})}}]),n}(o.Component));n(473);var Ce=function(){return Object(T.jsxs)("div",{className:"Page404",children:[Object(T.jsx)("p",{children:"The page you are looking for does not exist."}),Object(T.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/t3otBjVZzT0?autoplay=1",allow:"autoplay",title:"Page not Found"})]})},ge=n(507),ye=n(516),ve=n(517);n(474),n(475);var Se=function(e){var t=Object(o.useState)(""),n=Object(u.a)(t,2),a=n[0],s=n[1],r=Object(o.useState)(""),c=Object(u.a)(r,2),i=(c[0],c[1]),l=Object(o.useState)(0),p=Object(u.a)(l,2),d=p[0],h=p[1],j=Object(o.useState)(0),m=Object(u.a)(j,2),b=m[0],O=m[1],f=Object(o.useState)(null),x=Object(u.a)(f,2),C=(x[0],x[1],Object(o.useState)("")),g=Object(u.a)(C,2),y=(g[0],g[1],Object(o.useState)("")),v=Object(u.a)(y,2),S=v[0],w=v[1],N=Object(o.useState)(""),k=Object(u.a)(N,2),D=k[0],M=k[1],E=Object(o.useState)(""),I=Object(u.a)(E,2),P=(I[0],I[1],Object(o.useState)(null)),B=Object(u.a)(P,2),Y=(B[0],B[1]),G=Object(Oe.a)(),H=G.register,z=G.handleSubmit;function V(){return(V=Object(R.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new FormData).append("title",t.title),n.append("description",t.description),n.append("amount",t.amount.toString()),n.append("price",t.price.toString()),n.append("category",t.category),n.append("startDate",t.startDate.toString()),n.append("endDate",t.endDate.toString()),n.append("image",t.image[0]),e.next=12,ne.post(se.urls.addCoupon,n);case 12:e.sent,_.success("New coupon has been successfully added to the database"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),_.error("Error: "+e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}return Object(T.jsx)(ie.a,{className:"AddCoupon",children:Object(T.jsxs)("form",{onSubmit:z((function(e){return V.apply(this,arguments)})),children:[Object(T.jsxs)(ie.a,{className:"data-fields",children:[Object(T.jsx)("h2",{children:"Add Coupon"}),Object(T.jsx)(ue.a,{className:"textfield",variant:"outlined",onChange:function(e){return H({type:"text",required:!0,name:"title",value:s(e.target.value)})},inputRef:H({required:{value:!0,message:"Coupon Title Required"},minLength:{value:3,message:"Coupon Title too short"}}),name:"title",label:"Title"}),Object(T.jsx)(ue.a,{className:"textfield",variant:"outlined",onChange:function(e){return H({type:"text",required:!0,name:"description",value:i(e.target.value)})},inputRef:H({required:{value:!0,message:"Coupon Description Required"}}),name:"description",label:"Description"}),Object(T.jsx)("br",{}),Object(T.jsxs)(de.a,{variant:"outlined",className:"textfield",children:[Object(T.jsx)(he.a,{children:"Category"}),Object(T.jsx)(je.a,{variant:"outlined",onChange:function(e){return H({type:"text",required:!0,name:"category",value:e.target.value})},inputRef:H({required:{value:!0,message:"Coupon must have category"}}),name:"category",label:"Category",type:"text",children:["FOOD","ELECTRICITY","RESTAURANT","VACATION","LIFESTYLE_AND_HEALTH","CULTURE_AND_ENTERTAINMENT","SPORTS","GAMES","SHOPPING"].map((function(e){return Object(T.jsx)(q.a,{value:e.valueOf(),children:e.replaceAll("_"," ")},e.toString())}))})]}),Object(T.jsx)("br",{}),Object(T.jsx)(ue.a,{className:"textfield",variant:"outlined",onChange:function(e){return H({type:"number",required:!0,name:"amount",value:h(+e.target.value)})},inputRef:H({required:{value:!0,message:"Coupon Amount Required"}}),name:"amount",label:"Amount",type:"number"}),Object(T.jsx)(ue.a,{className:"textfield",variant:"outlined",onChange:function(e){return H({type:"number",required:!0,name:"price",value:O(+e.target.value)})},inputRef:H({required:{value:!0,message:"Coupon Price Required"}}),name:"price",type:"number",label:"Coupon Price"}),Object(T.jsx)(ue.a,{className:"textfield",helperText:"Coupon Start Date ",variant:"outlined",onChange:function(e){return H({type:"date",required:!0,name:"startDate",value:w(e.target.value)})},inputRef:H({required:{value:!0,message:"Coupon Start Date Required"}}),name:"startDate",type:"date"}),Object(T.jsx)(ue.a,{className:"textfield",variant:"outlined",helperText:"Coupon end Date ",onChange:function(e){return H({type:"date",required:!0,name:"endDate",value:M(e.target.value)})},inputRef:H({required:{value:!0,message:"Coupon End Date Required"}}),name:"endDate",type:"date"}),Object(T.jsx)(ue.a,{className:"textfield",variant:"outlined",onChange:function(e){return H({type:"file",required:!0,name:"image",value:Y(e.target.value)})},inputRef:H({required:{value:!0,message:"Coupon Image Required"}}),name:"image",helperText:"Coupon Image",type:"file"})]}),Object(T.jsx)(U.a,{onClick:e.onClose,disabled:!a||S>D||0===b||d<=0,className:"confirm-btn",type:"submit",endIcon:Object(T.jsx)(F.a,{icon:L.a}),children:"Confirm"})]})})};n(476);var we=function(e){var t=Object(o.useState)(e.couponToUpdate.id),n=Object(u.a)(t,2),a=(n[0],n[1],Object(o.useState)(e.couponToUpdate.title)),s=Object(u.a)(a,2),r=s[0],c=s[1],i=Object(o.useState)(e.couponToUpdate.description),l=Object(u.a)(i,2),p=(l[0],l[1]),d=Object(o.useState)(e.couponToUpdate.amount),h=Object(u.a)(d,2),j=h[0],m=h[1],b=Object(o.useState)(e.couponToUpdate.price),O=Object(u.a)(b,2),f=O[0],x=O[1],C=Object(o.useState)(e.couponToUpdate.company),g=Object(u.a)(C,2),y=(g[0],g[1],Object(o.useState)(e.couponToUpdate.category.toString())),v=Object(u.a)(y,2),S=v[0],w=(v[1],Object(o.useState)(e.couponToUpdate.startDate.toString())),N=Object(u.a)(w,2),k=N[0],D=N[1],M=Object(o.useState)(e.couponToUpdate.endDate.toString()),E=Object(u.a)(M,2),I=E[0],P=E[1],B=Object(o.useState)(""),G=Object(u.a)(B,2),H=(G[0],G[1],Object(o.useState)(null)),z=Object(u.a)(H,2),V=z[0],K=z[1],J=Object(Oe.a)(),W=J.register,X=J.handleSubmit;function Z(){return(Z=Object(R.a)(A.a.mark((function t(n){var a,o;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(a=new FormData).append("id",e.couponToUpdate.id.toString()),a.append("title",n.title),a.append("description",n.description),a.append("amount",n.amount.toString()),a.append("price",n.price.toString()),void 0!==n.category?a.append("category",n.category):a.append("category",S),a.append("startDate",n.startDate.toString()),a.append("endDate",n.endDate.toString()),null!=V&&a.append("image",n.image[0]),t.next=13,ne.put(se.urls.updateCoupon,a);case 13:o=t.sent,o.data,_.success("Coupon with id "+e.couponToUpdate.id+" has been successfully updated in the database"),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),_.error("Error: "+t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))).apply(this,arguments)}return J.errors,Object(Y.g)(),Object(T.jsx)(ie.a,{className:"UpdateCoupon",children:Object(T.jsxs)("form",{onSubmit:X((function(e){return Z.apply(this,arguments)})),children:[Object(T.jsxs)(ie.a,{className:"data-fields",children:[Object(T.jsx)("h2",{children:"Update Coupon"}),Object(T.jsxs)("h3",{children:["Coupon ID:",e.couponToUpdate.id]}),Object(T.jsx)("img",{className:"Box",src:se.urls.getCouponImage+e.couponToUpdate.imageName,style:{width:250,height:170}}),Object(T.jsx)(ue.a,{className:"textfield",variant:"outlined",defaultValue:e.couponToUpdate.title,onChange:function(e){return W({type:"text",required:!0,name:"title",value:c(e.target.value)})},inputRef:W({required:{value:!0,message:"Coupon Title Required"},minLength:{value:3,message:"Coupon Title too short"}}),name:"title",label:"Title"}),Object(T.jsx)(ue.a,{className:"textfield",variant:"outlined",defaultValue:e.couponToUpdate.description,onChange:function(e){return W({type:"text",required:!0,name:"description",value:p(e.target.value)})},inputRef:W({required:{value:!0,message:"Coupon Description Required"}}),name:"description",label:"Description"}),Object(T.jsx)("br",{}),Object(T.jsxs)(de.a,{variant:"outlined",className:"textfield",children:[Object(T.jsx)(he.a,{children:"Category"}),Object(T.jsx)(je.a,{variant:"outlined",defaultValue:e.couponToUpdate.category,onChange:function(e){return W({type:"text",required:!0,name:"category",value:e.target.value})},inputRef:W({required:{value:!0,message:"Coupon must have category"}}),name:"category",label:"Category",type:"text",children:["FOOD","ELECTRICITY","RESTAURANT","VACATION","LIFESTYLE_AND_HEALTH","CULTURE_AND_ENTERTAINMENT","SPORTS","GAMES","SHOPPING"].map((function(e){return Object(T.jsx)(q.a,{value:e.valueOf(),children:e.replaceAll("_"," ")},e.toString())}))})]}),Object(T.jsx)("br",{}),Object(T.jsx)(ue.a,{className:"textfield",defaultValue:e.couponToUpdate.amount,variant:"outlined",onChange:function(e){return W({type:"number",required:!0,name:"amount",value:m(+e.target.value)})},inputRef:W({required:{value:!0,message:"Coupon Amount Required"}}),name:"amount",label:"Amount",type:"number"}),Object(T.jsx)(ue.a,{className:"textfield",variant:"outlined",defaultValue:e.couponToUpdate.price,onChange:function(e){return W({type:"number",required:!0,name:"price",value:x(+e.target.value)})},inputRef:W({required:{value:!0,message:"Coupon Price Required"}}),name:"price",type:"number",label:"Coupon Price"}),Object(T.jsx)(ue.a,{className:"textfield",helperText:"Coupon Start Date ",defaultValue:e.couponToUpdate.startDate,variant:"outlined",onChange:function(e){return W({type:"date",required:!0,name:"startDate",value:D(e.target.value)})},inputRef:W({required:{value:!0,message:"Coupon Start Date Required"}}),name:"startDate",type:"date"}),Object(T.jsx)(ue.a,{className:"textfield",variant:"outlined",defaultValue:e.couponToUpdate.endDate,helperText:"Coupon end Date ",onChange:function(e){return W({type:"date",required:!0,name:"endDate",value:P(e.target.value)})},inputRef:W({required:{value:!0,message:"Coupon End Date Required"}}),name:"endDate",type:"date"}),Object(T.jsx)(ue.a,{className:"textfield",variant:"outlined",onChange:function(e){return W({type:"file",required:!1,name:"image",value:K(e.target.value)})},inputRef:W({required:{value:!1,message:"Coupon Image Required"}}),name:"image",helperText:"Coupon Image",type:"file"})]}),Object(T.jsx)(U.a,{onClick:e.onClose,disabled:!r||!S||k>I||0===f||j<=0,className:"confirm-btn",type:"submit",endIcon:Object(T.jsx)(F.a,{icon:L.a}),children:"Confirm"})]})})},Te=function(e){Object(M.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onShow=function(e){w.c,e.id,console.log(e)},a.tableRef=s.a.createRef(),a.state={selectedRow:null,anchorEl:null,addDialog:!1,updateDialog:!1,coupons:[]},a}return Object(D.a)(n,[{key:"componentDidMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getCompanyCoupons();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCompanyCoupons",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f.getState().AuthState.user.userType!==a.COMPANY&&this.props.history.push("/home"),e.next=4,ne.get(se.urls.getCompanyCoupons);case 4:t=e.sent,this.setState({coupons:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({coupons:[]});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getByCategory",value:function(){var e=Object(R.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.get(se.urls.getCompanyCouponsByCategory+t);case 3:n=e.sent,this.setState({coupons:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_.error("No coupons found with category "+t);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getByMaxPrice",value:function(){var e=Object(R.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.get(se.urls.getCompanyCouponsByMaxPrice+t);case 3:n=e.sent,this.setState({coupons:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_.error("No coupons found below max price of "+t);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onDelete",value:function(){var e=Object(R.a)(A.a.mark((function e(t){var n,a,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.delete(se.urls.deleteCoupon+t.id);case 3:n=e.sent,a=n.data,(o=Object(X.a)(this.state.coupons)).splice(this.state.coupons.indexOf(a),1),this.setState({coupons:o}),_.success("Coupon with ID "+t.id+" has been successfully deleted from the database"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),_.error("Error: "+e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=["FOOD","ELECTRICITY","RESTAURANT","VACATION","LIFESTYLE_AND_HEALTH","CULTURE_AND_ENTERTAINMENT","SPORTS","GAMES","SHOPPING"],n=0,a=function(){e.setState({addDialog:!1})},o=function(){e.getCompanyCoupons(),e.setState({updateDialog:!1})};return Object(T.jsxs)("div",{className:"CouponsTable",children:[Object(T.jsxs)(U.a,{className:"Refresh Box","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(){return e.getCompanyCoupons()},startIcon:Object(T.jsx)(F.a,{icon:L.g}),children:[" ","Refresh Table"]}),Object(T.jsxs)(ge.a,{open:!0===this.state.addDialog,onClose:a,children:[Object(T.jsx)(pe.a,{onClick:a,children:Object(T.jsx)(ye.a,{})})," ",Object(T.jsx)(Se,{onClose:a})]}),Object(T.jsxs)(U.a,{className:"AddCoupon Box",onClick:function(){e.setState({addDialog:!0})},style:{color:"antiquewhite"},startIcon:Object(T.jsx)(F.a,{icon:L.d}),children:[" ","ADD A NEW COUPON"]}),Object(T.jsxs)(ge.a,{open:!0===this.state.updateDialog,onClose:o,children:[Object(T.jsx)(pe.a,{onClick:o,children:Object(T.jsx)(ye.a,{})})," ",Object(T.jsx)(we,{couponToUpdate:this.state.selectedRow,onClose:o})]}),this.state.selectedRow&&Object(T.jsxs)(U.a,{className:"UpdateCoupon Box",style:{color:"antiquewhite"},onClick:function(){e.setState({updateDialog:!0})},startIcon:Object(T.jsx)(F.a,{icon:L.c}),children:[" ","UPDATE SELECTED COUPON"]}),Object(T.jsx)(Q.a,{localization:{body:{editRow:{deleteText:"Are you sure you want to this coupon from the database?"}}},title:"Coupons",columns:[{title:"ID",field:"id"},{title:"Category",field:"category",editComponent:function(e){return Object(T.jsx)(je.a,{value:e.value,onChange:function(t){e.onChange(t.target.value)},children:t.map((function(e){return Object(T.jsx)(q.a,{value:e.valueOf(),children:e.replaceAll("_"," ")},e.toString())}))})}},{title:"Title",field:"title",width:"10%"},{title:"Description",field:"description"},{title:"Amount",field:"amount",type:"numeric"},{title:"Price",field:"price"},{title:"Start Date",field:"startDate",type:"date"},{title:"End Date",field:"endDate",type:"date"},{title:"Image",field:"image",render:function(e){return Object(T.jsx)("img",{src:se.urls.getCouponImage+e.imageName,style:{width:60}})},editComponent:function(e){return Object(T.jsx)("div",{children:Object(T.jsx)("input",{type:"file",accept:"image/*",multiple:!0,name:"image",onChange:function(t){e.onChange(t.target.value)}})})}}],data:this.state.coupons,onRowClick:function(t,n){e.setState({selectedRow:n}),console.log(e.state.selectedRow),e.state.selectedRow===n&&e.setState({selectedRow:null})},options:{search:!1,rowStyle:function(t){return{backgroundColor:e.state.selectedRow===t?"#67aeae":"#FFF"}}},editable:{onRowDelete:function(t){return new Promise((function(n,a){e.onDelete(t),n()}))}}}),Object(T.jsxs)("span",{children:[Object(T.jsxs)(U.a,{className:"SelectCategory Box","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(t){e.setState({anchorEl:t.currentTarget})},startIcon:Object(T.jsx)(F.a,{icon:L.h}),children:[" ","Show By Category"]}),Object(T.jsxs)(B.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:function(){e.setState({anchorEl:null})},children:[Object(T.jsx)(q.a,{onClick:function(){return e.componentDidMount()},children:"ALL"}),t.map((function(t){return Object(T.jsx)(q.a,{onClick:function(){return e.getByCategory(t)},value:t.valueOf(),children:t.replaceAll("_"," ")},t.toString())}))]})]}),Object(T.jsx)("span",{children:this.state.selectedRow&&Object(T.jsx)(w.c,{className:"Box",to:"/couponCard/"+this.state.selectedRow.id,children:Object(T.jsx)(U.a,{className:"CouponButton",startIcon:Object(T.jsx)(F.a,{icon:L.b}),children:"Show selected Coupon"})})}),Object(T.jsx)("br",{}),Object(T.jsx)("span",{className:"Textfield Box",children:Object(T.jsx)(ue.a,{className:"InputFindPrice",style:{width:320},placeholder:"FIND BY MAX PRICE",onChange:function(e){return n=+e.target.value},InputProps:{endAdornment:Object(T.jsx)(pe.a,{onClick:function(){return e.getByMaxPrice(n)},children:Object(T.jsx)(ve.a,{})})},children:"Price"})})]})}}]),n}(o.Component),Ne=(n(477),function(e){Object(M.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onBuy=function(){var e=Object(R.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.post(se.urls.purchaseCoupon,t);case 3:e.sent,_.success("You successfully purchased "+a.state.selectedRow.title+" coupon"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_.error("You cannot buy a coupon you already have");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a.state={coupons:[],selectedRow:null},a}return Object(D.a)(n,[{key:"componentDidMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f.getState().AuthState.user.userType!==a.CUSTOMER&&this.props.history.push("/home"),e.next=4,ne.get(se.urls.getAllCoupons);case 4:t=e.sent,this.setState({coupons:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({coupons:[]});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(T.jsxs)("div",{className:"AllCouponsSTable",children:[Object(T.jsx)(Q.a,{data:this.state.coupons.sort((function(e,t){return e.id-t.id})),onRowClick:function(t,n){e.setState({selectedRow:n}),console.log(e.state.selectedRow),e.state.selectedRow===n&&e.setState({selectedRow:null})},options:{search:!1,rowStyle:function(t){return{backgroundColor:e.state.selectedRow===t?"#67aeae":"#FFF"}}},components:{Action:function(e){return Object(T.jsx)(U.a,{onClick:function(){return e.action.onClick()},children:"Buy"})}},title:"Available Coupons",columns:[{title:"ID",field:"id"},{title:"Category",field:"category",width:"50%"},{title:"Company",field:"company.name"},{title:"Title",field:"title",width:"60%"},{title:"Description",field:"description"},{title:"Price",field:"price",width:"50%"},{title:"Start Date",field:"startDate",type:"date"},{title:"End Date",field:"endDate",type:"date"},{title:"image",field:"image",render:function(e){return Object(T.jsx)("img",{src:se.urls.getCouponImage+e.imageName,style:{width:60}})}}]}),this.state.selectedRow&&Object(T.jsx)("span",{className:"Box",children:Object(T.jsx)(U.a,{className:"CouponButton",onClick:function(){return e.onBuy(e.state.selectedRow)},startIcon:Object(T.jsx)(F.a,{icon:L.e}),children:"Buy Coupon"})}),Object(T.jsx)("span",{children:this.state.selectedRow&&Object(T.jsx)(w.c,{className:"Coupons Box",to:"/couponCard/"+this.state.selectedRow.id,children:Object(T.jsx)(U.a,{className:"CouponButton",startIcon:Object(T.jsx)(F.a,{icon:L.b}),children:"Show Coupon"})})})]})}}]),n}(o.Component)),ke=(n(478),function(e){Object(M.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={coupons:[],selectedRow:null,anchorEl:null},a}return Object(D.a)(n,[{key:"componentDidMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f.getState().AuthState.user.userType!==a.CUSTOMER&&this.props.history.push("/home"),e.next=4,ne.get(se.urls.getCustomerCoupons);case 4:t=e.sent,this.setState({coupons:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({coupons:[]});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getByCategory",value:function(){var e=Object(R.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.get(se.urls.getCustomerCouponsByCategory+t);case 3:n=e.sent,this.setState({coupons:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_.error("You have no coupons of category "+t);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getByMaxPrice",value:function(){var e=Object(R.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.get(se.urls.getCustomerCouponsByMaxPrice+t);case 3:n=e.sent,this.setState({coupons:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_.error("You have no coupons below max price of "+t);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=0;return Object(T.jsxs)("div",{className:"CustomerCouponsTable",children:[Object(T.jsx)(Q.a,{data:this.state.coupons.sort((function(e,t){return e.id-t.id})),onRowClick:function(t,n){e.setState({selectedRow:n}),console.log(e.state.selectedRow),e.state.selectedRow===n&&e.setState({selectedRow:null})},options:{search:!1,rowStyle:function(t){return{backgroundColor:e.state.selectedRow===t?"#67aeae":"#FFF"}}},title:"My Coupons",columns:[{title:"ID",field:"id"},{title:"Category",field:"category",width:"50%"},{title:"Company",field:"company.name"},{title:"Title",field:"title",width:"60%"},{title:"Description",field:"description"},{title:"Price",field:"price",width:"50%"},{title:"Start Date",field:"startDate",type:"date"},{title:"End Date",field:"endDate",type:"date"},{title:"image",field:"image",render:function(e){return Object(T.jsx)("img",{src:se.urls.getCouponImage+e.imageName,style:{width:60}})}}]}),Object(T.jsxs)("span",{children:[Object(T.jsx)(U.a,{className:"SelectCategory Box","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(t){e.setState({anchorEl:t.currentTarget})},startIcon:Object(T.jsx)(F.a,{icon:L.h}),children:" Show By Category"}),Object(T.jsxs)(B.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:function(){e.setState({anchorEl:null})},children:[Object(T.jsx)(q.a,{onClick:function(){return e.componentDidMount()},children:"ALL"}),["FOOD","ELECTRICITY","RESTAURANT","VACATION","LIFESTYLE_AND_HEALTH","CULTURE_AND_ENTERTAINMENT","SPORTS","GAMES","SHOPPING"].map((function(t){return Object(T.jsx)(q.a,{onClick:function(){return e.getByCategory(t)},value:t.valueOf(),children:t.replaceAll("_"," ")},t.toString())}))]})]}),Object(T.jsx)("span",{children:Object(T.jsx)("b",{children:this.state.selectedRow&&Object(T.jsx)(w.c,{className:"Box",to:"/couponCard/"+this.state.selectedRow.id,children:Object(T.jsx)(U.a,{className:"CouponButton",startIcon:Object(T.jsx)(F.a,{icon:L.b}),children:"Show selected Coupon"})})})}),Object(T.jsx)("br",{}),Object(T.jsx)("span",{className:"Textfield Box",children:Object(T.jsx)(ue.a,{style:{width:320},className:"InputFindPrice",placeholder:"FIND BY MAX PRICE",onChange:function(e){return t=+e.target.value},InputProps:{endAdornment:Object(T.jsx)(pe.a,{onClick:function(){return e.getByMaxPrice(t)},children:Object(T.jsx)(ve.a,{})})},children:"Price"})})]})}}]),n}(o.Component)),Ae=(n(479),function(e){Object(M.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onBuy=function(){var e=Object(R.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.post(se.urls.purchaseCoupon,t);case 3:e.sent,_.success("You successfully purchased "+a.state.coupon.title+" coupon"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_.error("You cannot buy a coupon you already have");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a.state={coupon:null,updateDialog:!1,pic:null,customerCoupons:[]},a}return Object(D.a)(n,[{key:"componentDidMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t,n,o,s,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!f.getState().AuthState.user&&this.props.history.push("/home"),t=this.props.match.params.id,n="",f.getState().AuthState.user.userType!==a.COMPANY){e.next=10;break}return n=se.urls.getOneCouponCompany,e.next=8,ne.get(n+t);case 8:o=e.sent,this.setState({coupon:o.data});case 10:if(f.getState().AuthState.user.userType!==a.CUSTOMER){e.next=19;break}return n=se.urls.getOneCouponCustomer,e.next=14,ne.get(se.urls.getCustomerCoupons);case 14:return s=e.sent,e.next=17,ne.get(n+t);case 17:r=e.sent,this.setState({coupon:r.data,customerCoupons:s.data});case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),alert("Error: "+e.t0.message);case 24:case"end":return e.stop()}}),e,this,[[0,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=function(){e.setState({updateDialog:!1})};return Object(T.jsxs)("div",{className:"CouponCard Box",children:[this.state.coupon&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h1",{children:this.state.coupon.title}),Object(T.jsx)("img",{style:{width:450,height:300},src:se.urls.getCouponImage+this.state.coupon.imageName}),Object(T.jsxs)("h3",{children:["Description: ",this.state.coupon.description]}),Object(T.jsxs)("h3",{children:["Company: ",this.state.coupon.company.name]}),Object(T.jsxs)("h3",{children:["Price: ",this.state.coupon.price]}),f.getState().AuthState.user.userType===a.COMPANY&&Object(T.jsxs)("h3",{children:["Amount: ",this.state.coupon.amount]}),Object(T.jsxs)("h3",{children:["Coupon Start Date: ",this.state.coupon.startDate]}),Object(T.jsxs)("h3",{children:["Coupon End Date: ",this.state.coupon.endDate]}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{})]}),Object(T.jsxs)("span",{className:"buttons",children:[f.getState().AuthState.user.userType===a.CUSTOMER&&!this.state.customerCoupons.includes(this.state.coupon)&&Object(T.jsx)(U.a,{style:{fontSize:"small",background:"black",color:"antiquewhite"},className:"box",onClick:function(){return e.onBuy(e.state.coupon)},children:"BUY THIS COUPON"}),f.getState().AuthState.user.userType===a.COMPANY&&Object(T.jsx)(U.a,{style:{fontSize:"small",background:"black",color:"antiquewhite"},className:"box",component:w.b,to:"/company/couponsTable",variant:"contained",color:"primary",children:"BACK"}),Object(T.jsxs)(ge.a,{open:!0===this.state.updateDialog,onClose:t,children:[Object(T.jsx)(pe.a,{onClick:t,children:Object(T.jsx)(ye.a,{})})," ",Object(T.jsx)(we,{couponToUpdate:this.state.coupon,onClose:t})]}),f.getState().AuthState.user.userType===a.COMPANY&&Object(T.jsx)(U.a,{className:"couponUpdate",style:{color:"antiquewhite",fontSize:"small"},onClick:function(){e.setState({updateDialog:!0})},startIcon:Object(T.jsx)(F.a,{icon:L.c}),children:"UPDATE COUPON"}),f.getState().AuthState.user.userType===a.CUSTOMER&&Object(T.jsx)(U.a,{style:{fontSize:"small",background:"black",color:"antiquewhite"},className:"box",component:w.b,to:"/customer/allCouponsTable",variant:"contained",color:"primary",children:"BACK TO ALL COUPONS"}),f.getState().AuthState.user.userType===a.CUSTOMER&&Object(T.jsx)(U.a,{style:{fontSize:"small",background:"black",color:"antiquewhite"},className:"box",component:w.b,to:"/customer/CustomerCouponsTable",variant:"contained",color:"primary",children:"BACK TO MY COUPONS"})]})]})}}]),n}(o.Component)),Re=(n(480),function(e){Object(M.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={company:null},a}return Object(D.a)(n,[{key:"componentDidMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t,n,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.id,n="",f.getState().AuthState.user.userType===a.COMPANY&&(n=se.urls.getCompanyDetails),f.getState().AuthState.user.userType===a.ADMIN&&(n=se.urls.getOneCompany+t),e.next=7,ne.get(n);case 7:o=e.sent,this.setState({company:o.data}),console.log(this.state),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert("Error: "+e.t0.message);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(T.jsxs)("div",{className:"CompanyCard Box",children:[this.state.company&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h1",{children:this.state.company.name}),Object(T.jsxs)("h3",{children:["Email: ",this.state.company.email]}),Object(T.jsxs)("h3",{children:["Password: ",this.state.company.password]})]}),Object(T.jsxs)("span",{children:[f.getState().AuthState.user.userType===a.COMPANY&&Object(T.jsx)(w.c,{style:{fontSize:"small",background:"black",color:"antiquewhite"},className:"box",to:"/company/couponsTable",children:"BACK TO COUPONS TABLE"}),f.getState().AuthState.user.userType===a.ADMIN&&Object(T.jsx)(w.c,{style:{fontSize:"small",background:"black",color:"antiquewhite"},className:"box",to:"/admin/companiesTable",children:"BACK TO ALL COMPANIES"})]})]})}}]),n}(o.Component)),De=(n(481),function(e){Object(M.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={customer:null},a}return Object(D.a)(n,[{key:"componentDidMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t,n,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.id,n="",f.getState().AuthState.user.userType===a.CUSTOMER&&(n="http://localhost:8080/customer/getCustomerDetails"),f.getState().AuthState.user.userType===a.ADMIN&&(n="http://localhost:8080/admin/getOneCustomer?id="+t),e.next=7,ne.get(n);case 7:o=e.sent,this.setState({customer:o.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert("Error: "+e.t0.message);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(T.jsxs)("div",{className:"CompanyCard Box",children:[this.state.customer&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h1",{children:this.state.customer.firstName+" "+this.state.customer.lastName}),Object(T.jsxs)("h3",{children:["Email: ",this.state.customer.email]}),Object(T.jsxs)("h3",{children:["Password: ",this.state.customer.password]})]}),Object(T.jsxs)("span",{children:[f.getState().AuthState.user.userType===a.CUSTOMER&&Object(T.jsx)(w.c,{style:{fontSize:"small",background:"black",color:"antiquewhite"},className:"box",to:"/customer/CustomerCouponsTable",children:"BACK TO MY COUPONS"}),f.getState().AuthState.user.userType===a.ADMIN&&Object(T.jsx)(w.c,{style:{fontSize:"small",background:"black",color:"antiquewhite"},className:"box",to:"/admin/customersTable",children:"BACK TO ALL CUSTOMERS"})]})]})}}]),n}(o.Component));var Me=function(){return Object(T.jsx)("div",{className:"Routing",children:Object(T.jsxs)(Y.d,{children:[Object(T.jsx)(Y.b,{path:"/home",component:xe,exact:!0}),Object(T.jsx)(Y.b,{path:"/admin/menu",component:z,exact:!0}),Object(T.jsx)(Y.b,{path:"/admin/companiesTable",component:re,exact:!0}),Object(T.jsx)(Y.b,{path:"/admin/customersTable",component:ce,exact:!0}),Object(T.jsx)(Y.b,{path:"/company/menu",component:K,exact:!0}),Object(T.jsx)(Y.b,{path:"/customer/menu",component:V,exact:!0}),Object(T.jsx)(Y.b,{path:"/company/couponsTable",component:Te,exact:!0}),Object(T.jsx)(Y.b,{path:"/customer/allCouponsTable",component:Ne,exact:!0}),Object(T.jsx)(Y.b,{path:"/customer/CustomerCouponsTable",component:ke,exact:!0}),Object(T.jsx)(Y.b,{path:"/couponCard/:id",component:Ae,exact:!0}),Object(T.jsx)(Y.b,{path:"/companyCard/",component:Re,exact:!0}),Object(T.jsx)(Y.b,{path:"/companyCard/:id",component:Re,exact:!0}),Object(T.jsx)(Y.b,{path:"/customerCard/",component:De,exact:!0}),Object(T.jsx)(Y.b,{path:"/customerCard/:id",component:De,exact:!0}),Object(T.jsx)(Y.a,{from:"/",to:"/home",exact:!0}),Object(T.jsx)(Y.b,{component:Ce})]})})},Ee=n(122),Ie=n(506),Pe=Object(Ee.a)({typography:{fontFamily:["Zen Dots","cursive"].join(","),fontSize:18}});var Ue=function(){return Object(T.jsx)(Ie.a,{theme:Pe,children:Object(T.jsx)("div",{className:"Layout",children:Object(T.jsxs)(w.a,{children:[Object(T.jsx)("header",{children:Object(T.jsx)(J,{})}),Object(T.jsx)("main",{children:Object(T.jsx)(Me,{})}),Object(T.jsx)("footer",{children:Object(T.jsx)(W,{})})]})})})};c.a.render(Object(T.jsx)(s.a.StrictMode,{children:Object(T.jsx)(Ue,{})}),document.getElementById("root")),i()}},[[482,1,2]]]);
//# sourceMappingURL=main.20dd866d.chunk.js.map