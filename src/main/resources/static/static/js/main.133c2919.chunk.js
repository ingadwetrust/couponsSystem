(this["webpackJsonpcoupons-system"]=this["webpackJsonpcoupons-system"]||[]).push([[0],{378:function(e,t,a){},379:function(e,t,a){},380:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){},390:function(e,t,a){},391:function(e,t,a){},392:function(e,t,a){},393:function(e,t,a){},394:function(e,t,a){},470:function(e,t,a){},471:function(e,t,a){},472:function(e,t,a){},473:function(e,t,a){},474:function(e,t,a){},475:function(e,t,a){},476:function(e,t,a){},477:function(e,t,a){},478:function(e,t,a){},479:function(e,t,a){},480:function(e,t,a){},481:function(e,t,a){},482:function(e,t,a){"use strict";a.r(t);var n,o=a(0),r=a.n(o),s=a(18),c=a.n(s),u=(a(378),function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,889)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),o(e),r(e),s(e)}))}),i=(a(379),a(19)),l=a(26),p=function e(){Object(l.a)(this,e),this.id=void 0,this.email=void 0,this.name=void 0,this.password=void 0,this.token=void 0,this.userType=void 0};!function(e){e.ADMIN="ADMIN",e.COMPANY="COMPANY",e.CUSTOMER="CUSTOMER"}(n||(n={}));var d,h=a(358),m=function e(){Object(l.a)(this,e),this.user=new p};function j(e){return{type:d.LOGIN,payload:e}}!function(e){e.LOGIN="LOGIN",e.LOGOUT="LOGOUT"}(d||(d={}));var b=a(93),O=Object(b.c)({AuthState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new m,t=arguments.length>1?arguments[1]:void 0,a=Object(h.a)({},e);switch(t.type){case d.LOGIN:a.user=t.payload,sessionStorage.setItem("user",JSON.stringify(a.user)),console.log(t.payload);break;case d.LOGOUT:a.user=null,localStorage.removeItem("user")}return a}}),f=Object(b.e)(O),g=(a(380),a.p+"static/media/coupFunIcon.833c4afa.png"),x=a(313),C=a(314),y=a(315),v=a(100),S=a(519),w=a(21),k=a(2);var T=function(){var e=Object(x.a)((function(e){return Object(C.a)({xSmall:{width:e.spacing(5),height:e.spacing(5)},small:{width:e.spacing(10),height:e.spacing(10)},medium:{width:e.spacing(12),height:e.spacing(12)},large:{width:e.spacing(15),height:e.spacing(15)},xLarge:{width:e.spacing(18),height:e.spacing(18)}})}))();return Object(k.jsx)(y.a,{className:"Logo",children:Object(k.jsxs)(w.c,{to:"/home",children:[Object(k.jsx)(v.a,{className:"coup-fun-name",variant:"h5",children:"CoupManager"}),Object(k.jsx)(S.a,{className:e.small+" coup-fun-logo",src:g,alt:"coup-fun-logo"})]})})},N=a(9),A=a.n(N),R=a(16),D=a(36),M=a(35),E=a(34),I=(a(386),function(e){Object(M.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={user:null},n}return Object(D.a)(a,[{key:"componentWillMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=f.getState().AuthState.user,this.setState({user:t})}catch(a){alert("Error: "+a.message)}case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(k.jsx)("div",{className:"UserCard",children:Object(k.jsxs)("div",{children:[1===P()&&Object(k.jsxs)("span",{children:["Good Night ",Object(k.jsx)("br",{})," ",this.state.user.name]}),2===P()&&Object(k.jsxs)("span",{children:["Good Morning ",Object(k.jsx)("br",{}),this.state.user.name]}),3===P()&&Object(k.jsxs)("span",{children:["Good Afternoon ",Object(k.jsx)("br",{}),this.state.user.name]}),4===P()&&Object(k.jsxs)("span",{children:["Good Evening",Object(k.jsx)("br",{})," ",this.state.user.name]})]})})}}]),a}(o.Component));function P(){var e=(new Date).getHours();switch(!0){case e<6:return 1;case e<12:return 2;case e<18:return 3;case e<22:return 4;default:return 1}}a(387);var U=a(316),B=a(189),q=a(317),L=a(41),F=a(40),Y=a(17),G=a(359),_=new(function(){function e(){Object(l.a)(this,e),this.notification=new G.a({duration:2e3,position:{x:"right",y:"bottom"}})}return Object(D.a)(e,[{key:"success",value:function(e){this.notification.success(e)}},{key:"error",value:function(e){var t=this.extractMessage(e);this.notification.error(t)}},{key:"extractMessage",value:function(e){var t,a;return"string"===typeof e?e:"string"===typeof(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)?e.response.data:Array.isArray(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.data)?e.response.data[0]:"string"===typeof(null===e||void 0===e?void 0:e.message)?e.message:"some error occurred, please try again"}}]),e}());a(390);var H=function(){function e(){_.success("You are logged out of the Coupons System"),f.dispatch({type:d.LOGOUT}),t.push("/home")}var t=Object(Y.g)();return Object(k.jsx)(U.a,{className:"Logout",endIcon:Object(k.jsx)(F.a,{icon:L.f}),onClick:function(){return e()},children:"Logout"})};a(391);function z(){var e=Object(o.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1],r=function(){n(null)};return Object(k.jsxs)("div",{className:"AdminMenu",children:[Object(k.jsx)(U.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){n(e.currentTarget)},children:"Open Menu"}),Object(k.jsxs)(B.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:r,children:[Object(k.jsxs)(q.a,{onClick:r,children:[" ",Object(k.jsx)(w.c,{to:"/admin/companiesTable/",children:"Companies"})]}),Object(k.jsx)(q.a,{onClick:r,children:Object(k.jsx)("span",{children:Object(k.jsx)(w.c,{to:"/admin/customersTable/",children:"Customers"})})}),Object(k.jsx)(q.a,{onClick:r,children:Object(k.jsx)(H,{})})]})]})}a(392);function V(){var e=Object(o.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1],r=function(){n(null)};return Object(k.jsxs)("div",{className:"CustomerMenu",children:[Object(k.jsx)(U.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){n(e.currentTarget)},children:"Open Menu"}),Object(k.jsxs)(B.a,{style:{color:"antiquewhite"},id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:r,children:[Object(k.jsxs)(q.a,{onClick:r,children:[" ",Object(k.jsx)(w.c,{to:"/customer/allCouponsTable",children:"Purchase Coupons"})]}),Object(k.jsx)(q.a,{onClick:r,children:Object(k.jsx)(w.c,{to:"/customer/CustomerCouponsTable",children:"My Coupons"})}),Object(k.jsx)(q.a,{onClick:r,children:Object(k.jsx)(w.c,{to:"/customerCard/",children:"My Details"})}),Object(k.jsx)(q.a,{onClick:r,children:Object(k.jsx)(H,{})})]})]})}a(393);function K(){var e=Object(o.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1],r=function(){n(null)};return Object(k.jsxs)("div",{className:"CompanyMenu",children:[Object(k.jsx)(U.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){n(e.currentTarget)},children:"Open Menu"}),Object(k.jsxs)(B.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:r,children:[Object(k.jsxs)(q.a,{onClick:r,children:[" ",Object(k.jsx)(w.c,{to:"/company/couponsTable/",children:"Coupons"})]}),Object(k.jsx)(q.a,{onClick:r,children:Object(k.jsx)(w.c,{to:"/companyCard",children:"Company Details"})}),Object(k.jsx)(q.a,{onClick:r,children:Object(k.jsx)(H,{})})]})]})}var J=function(){var e=Object(o.useState)(),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(o.useEffect)((function(){f.subscribe((function(){return r(f.getState().AuthState.user)}))}),[]),Object(k.jsxs)("div",{className:"Header",children:[Object(k.jsx)("h1",{children:"COUPON MANAGER"}),Object(k.jsx)("h3",{children:"organize your coupons with world class efficiency"}),Object(k.jsx)("span",{className:"UserCard",children:a&&Object(k.jsx)(I,{})}),Object(k.jsx)(T,{}),Object(k.jsxs)("span",{className:"menu",children:[a&&a.userType===n.ADMIN&&Object(k.jsx)(z,{}),a&&a.userType===n.COMPANY&&Object(k.jsx)(K,{}),a&&a.userType===n.CUSTOMER&&Object(k.jsx)(V,{})]})]})};a(394);var W=function(){return Object(k.jsx)("div",{className:"Footer",children:Object(k.jsx)("h4",{children:"  All rights reserved to Gad Torrefranca \xa9"})})},X=a(28),Z=a(76),Q=a.n(Z),$=a(207),ee=a.n($),te=ee.a.create();te.interceptors.request.use((function(e){var t;return e.headers={token:null===(t=f.getState().AuthState.user)||void 0===t?void 0:t.token},e}));var ae=te,ne=(a(470),function e(){Object(l.a)(this,e)}),oe=new(function(e){Object(M.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).urls={loginAdmin:"https://coupon-manager-gad.herokuapp.com/admin/login?email=",loginCompany:"https://coupon-manager-gad.herokuapp.com/company/login?email=",loginCustomer:"https://coupon-manager-gad.herokuapp.com/customer/login?email=",password:"&password=",getAllCompanies:"https://coupon-manager-gad.herokuapp.com/admin/getAllCompanies",addCompany:"https://coupon-manager-gad.herokuapp.com/admin/addCompany",updateCompany:"https://coupon-manager-gad.herokuapp.com/admin/updateCompany",deleteCompany:"https://coupon-manager-gad.herokuapp.com/admin/deleteCompany?id=",getAllCustomers:"https://coupon-manager-gad.herokuapp.com/admin/getAllCustomers",addCustomer:"https://coupon-manager-gad.herokuapp.com/admin/addCustomer",updateCustomer:"https://coupon-manager-gad.herokuapp.com/admin/updateCustomer",deleteCustomer:"https://coupon-manager-gad.herokuapp.com/admin/deleteCustomer?id=",getCompanyCoupons:"https://coupon-manager-gad.herokuapp.com/company/getCompanyCoupons",getCompanyCouponsByCategory:"https://coupon-manager-gad.herokuapp.com/company/getCompanyCouponsByCategory?category=",getCompanyCouponsByMaxPrice:"https://coupon-manager-gad.herokuapp.com/company/getCompanyCouponsByPrice?maxPrice=",addCoupon:"https://coupon-manager-gad.herokuapp.com/company/addCoupon",updateCoupon:"https://coupon-manager-gad.herokuapp.com/company/updateCoupon",deleteCoupon:"https://coupon-manager-gad.herokuapp.com/company/deleteCoupon?id=",getAllCoupons:"https://coupon-manager-gad.herokuapp.com/customer/getAllCoupons",purchaseCoupon:"https://coupon-manager-gad.herokuapp.com/customer/purchaseCoupon",getCustomerCoupons:"https://coupon-manager-gad.herokuapp.com/customer/getCustomerCoupons",getCustomerDetails:"https://coupon-manager-gad.herokuapp.com/customer/getCustomerDetails",getCustomerCouponsByCategory:"https://coupon-manager-gad.herokuapp.com/customer/getCustomerCouponsByCategory?category=",getCustomerCouponsByMaxPrice:"https://coupon-manager-gad.herokuapp.com/customer/getCustomerCouponsByPrice?maxPrice=",getCompanyDetails:"https://coupon-manager-gad.herokuapp.com/company/getCompanyDetails",getOneCompany:"https://coupon-manager-gad.herokuapp.com/admin/getOneCompany?id=",getOneCustomer:"https://coupon-manager-gad.herokuapp.com/admin/getOneCustomer?id=",getOneCouponCompany:"https://coupon-manager-gad.herokuapp.com/company/getOneCoupon/",getOneCouponCustomer:"https://coupon-manager-gad.herokuapp.com/customer/getOneCoupon/",getCouponImage:"https://coupon-manager-gad.herokuapp.com/pics/"},e}return a}(ne)),re=function(e){Object(M.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onAdd=function(){var e=Object(R.a)(A.a.mark((function e(t){var a,o,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.post(oe.urls.addCompany,t);case 3:return a=e.sent,o=a.data,(r=Object(X.a)(n.state.companies)).push(o),n.setState({companies:r}),_.success("Company "+t.name+" has been successfully added to the database"),e.abrupt("return",o.id);case 12:e.prev=12,e.t0=e.catch(0),_.error("Error: "+e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),n.onEdit=function(){var e=Object(R.a)(A.a.mark((function e(t,a){var o,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.put(oe.urls.updateCompany,t);case 3:o=e.sent,r=o.data,(s=Object(X.a)(n.state.companies)).splice(s.indexOf(a),1),s.push(r),n.setState({companies:s}),_.success("Company "+t.name+" has been successfully updated"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),_.error("Error: "+e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}(),n.state={companies:[],selectedRow:null},n}return Object(D.a)(a,[{key:"componentDidMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get(oe.urls.getAllCompanies);case 3:t=e.sent,this.setState({companies:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.history.push("/home");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"onDelete",value:function(){var e=Object(R.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.delete(oe.urls.deleteCompany+t.id);case 3:e.sent,(a=Object(X.a)(this.state.companies)).splice(a.indexOf(t),1),_.success("Company "+t.name+" has been successfully deleted from the database"),this.setState({companies:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),_.error("Error: "+e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"CompaniesTable",children:[Object(k.jsx)(Q.a,{data:this.state.companies,onRowClick:function(t,a){e.setState({selectedRow:a}),e.state.selectedRow===a&&e.setState({selectedRow:null})},options:{sorting:!0,search:!1,rowStyle:function(t){return{backgroundColor:e.state.selectedRow===t?"#67aeae":"#FFF"}}},localization:{body:{editRow:{deleteText:"Are you sure you want to this company from the database?"}}},title:"Companies",columns:[{title:"ID",field:"id"},{title:"Name",field:"name"},{title:"Email",field:"email"},{title:"Password",field:"password"}],editable:{onRowAdd:function(t){return new Promise((function(a,n){e.onAdd(t),a()}))},onRowUpdate:function(t,a){return new Promise((function(n,o){e.onEdit(t,a),n()}))},onRowDelete:function(t){return new Promise((function(a,n){e.onDelete(t),a()}))}}}),Object(k.jsx)("span",{children:this.state.selectedRow&&Object(k.jsx)(w.c,{className:"Box",to:"/companyCard/"+this.state.selectedRow.id,children:Object(k.jsx)(U.a,{className:"CompanyButton",children:"Show Company"})})})]})}}]),a}(o.Component),se=function(e){Object(M.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onAdd=function(){var e=Object(R.a)(A.a.mark((function e(t){var a,o,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.post(oe.urls.addCustomer,t);case 3:a=e.sent,o=a.data,(r=Object(X.a)(n.state.customers)).push(o),_.success("Customer "+t.firstName+" "+t.lastName+" has been successfully added to the database"),n.setState({customers:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),_.error("Error: "+e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),n.onEdit=function(){var e=Object(R.a)(A.a.mark((function e(t,a){var o,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.put(oe.urls.updateCustomer,t);case 3:o=e.sent,r=o.data,(s=Object(X.a)(n.state.customers)).splice(s.indexOf(a),1),s.push(r),_.success("Customer "+t.firstName+" "+a.lastName+" has been successfully updated in the database"),n.setState({customers:s}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),_.error("Error: "+e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}(),n.state={customers:[],selectedRow:null},n}return Object(D.a)(a,[{key:"componentDidMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get(oe.urls.getAllCustomers);case 3:t=e.sent,this.setState({customers:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.history.push("/home");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"onDelete",value:function(){var e=Object(R.a)(A.a.mark((function e(t){var a,n,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.delete(oe.urls.deleteCustomer+t.id);case 3:a=e.sent,n=a.data,(o=Object(X.a)(this.state.customers)).splice(o.indexOf(n),1),_.success("Customer "+t.firstName+" "+t.lastName+" has been successfully deleted from the database"),this.setState({customers:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),_.error("Error: "+e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return f.getState().AuthState.user.userType!==n.ADMIN&&this.props.history.push("/home"),Object(k.jsxs)("div",{className:"CustomersTable",children:[Object(k.jsx)(Q.a,{onRowClick:function(t,a){e.setState({selectedRow:a}),e.state.selectedRow===a&&e.setState({selectedRow:null})},options:{sorting:!0,search:!1,rowStyle:function(t){return{backgroundColor:e.state.selectedRow===t?"#67aeae":"#FFF"}}},localization:{body:{editRow:{deleteText:"Are you sure you want to this customer from the database?"}}},title:"Customers",columns:[{title:"ID",field:"id"},{title:"First Name",field:"firstName"},{title:"Last Name",field:"lastName"},{title:"Email",field:"email"},{title:"Password",field:"password"}],data:this.state.customers.sort((function(e,t){return e.id-t.id})),editable:{onRowAdd:function(t){return new Promise((function(a,n){e.onAdd(t),a()}))},onRowUpdate:function(t,a){return new Promise((function(n,o){e.onEdit(t,a),n()}))},onRowDelete:function(t){return new Promise((function(a,n){e.onDelete(t),a()}))}}}),Object(k.jsx)("span",{children:this.state.selectedRow&&Object(k.jsx)(w.c,{className:"Box",to:"/customerCard/"+this.state.selectedRow.id,children:Object(k.jsx)(U.a,{className:"CustomerButton",children:"Show Customer"})})})]})}}]),a}(o.Component),ce=a(513),ue=a(331),ie=a(334),le=a(245),pe=a(246),de=a(247),he=a(249),me=a(514),je=a(515),be=a(134);a(471);var Oe=function(){var e=Object(Y.g)(),t=Object(be.a)(),a=t.register,r=t.handleSubmit,s=Object(o.useState)(!1),c=Object(i.a)(s,2),u=c[0],l=c[1];function p(){return(p=Object(R.a)(A.a.mark((function t(a){var o,r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=a.userType,t.next="ADMIN"===t.t0?3:"COMPANY"===t.t0?5:"CUSTOMER"===t.t0?7:9;break;case 3:return o=oe.urls.loginAdmin+a.email+oe.urls.password+a.password,t.abrupt("break",9);case 5:return o=oe.urls.loginCompany+a.email+oe.urls.password+a.password,t.abrupt("break",9);case 7:return o=oe.urls.loginCustomer+a.email+oe.urls.password+a.password,t.abrupt("break",9);case 9:return t.prev=9,t.next=12,ee.a.post(o,a);case 12:r=t.sent,f.dispatch(j(r.data)),f.getState().AuthState.user.userType===n.ADMIN&&e.push("/admin/companiesTable"),f.getState().AuthState.user.userType===n.COMPANY&&e.push("/company/couponsTable"),f.getState().AuthState.user.userType===n.CUSTOMER&&e.push("/customer/CustomerCouponsTable"),f.getState().AuthState.user&&_.success("You are now logged in"),!f.getState().AuthState.user&&_.error("Login failed: illegal credentials"),t.next=24;break;case 21:t.prev=21,t.t1=t.catch(9),_.error("Login failed: "+t.t1);case 24:case"end":return t.stop()}}),t,null,[[9,21]])})))).apply(this,arguments)}var d=Object(x.a)((function(e){return Object(C.a)({root:{"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#67aeae"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"& .MuiOutlinedInput-input":{color:"white",fontFamily:'"Mukta",sans-serif'},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-input":{color:"white",fontFamily:'"Mukta",sans-serif'},"& .MuiInputLabel-outlined":{color:"white",fontFamily:'"Mukta",sans-serif'}},select:{width:"40%",textAlign:"center",margin:e.spacing(1),minWidth:120,"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#67aeae"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"& .MuiOutlinedInput-input":{color:"white",fontFamily:'"Mukta",sans-serif'},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-input":{color:"white",fontFamily:'"Mukta",sans-serif'},"& .MuiInputLabel-outlined":{color:"white",fontFamily:'"Mukta",sans-serif'}}})}))(),h=[{id:1,label:"ADMIN",type:n.ADMIN},{id:2,label:"COMPANY",type:n.COMPANY},{id:3,label:"CUSTOMER",type:n.CUSTOMER}];return Object(k.jsx)("div",{className:"Login Box",children:Object(k.jsxs)(ce.a,{className:"login-container",children:[Object(k.jsx)(v.a,{variant:"h6",children:"LOG IN"}),Object(k.jsxs)("form",{onSubmit:r((function(e){return p.apply(this,arguments)})),children:[Object(k.jsx)("div",{className:"email-container",children:Object(k.jsx)(ue.a,{label:"Email",variant:"outlined",className:"".concat(d.root," TextBox"),inputRef:a({required:!0}),type:"email",name:"email"})}),Object(k.jsx)("div",{className:"password-container",children:Object(k.jsx)(ue.a,{label:"Password",variant:"outlined",className:"".concat(d.root," TextBox"),inputRef:a({required:!0}),type:u?"text":"password",name:"password",InputProps:{endAdornment:Object(k.jsx)(ie.a,{position:"end",children:Object(k.jsx)(le.a,{style:{color:"white"},onClick:function(){l((function(e){return!e}))},children:u?Object(k.jsx)(je.a,{}):Object(k.jsx)(me.a,{})})})}})}),Object(k.jsx)("div",{className:"user-type-container",children:Object(k.jsxs)(pe.a,{variant:"outlined",className:d.select,children:[Object(k.jsx)(de.a,{children:"User Type"}),Object(k.jsx)(he.a,{label:"User Type",onChange:function(e){return a({required:!0,name:"userType",value:e.target.value})},children:h.map((function(e){return Object(k.jsx)(q.a,{value:e.type,children:e.label},e.id)}))})]})}),Object(k.jsx)("br",{}),Object(k.jsx)(U.a,{type:"submit",children:"Enter"})]})]})})},fe=(a(472),function(e){Object(M.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={user:null},n}return Object(D.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.subscribe((function(){return e.setState({user:f.getState().AuthState.user})}))}},{key:"render",value:function(){return Object(k.jsx)("div",{className:"Home",children:!this.state.user&&Object(k.jsx)(Oe,{})})}}]),a}(o.Component));a(473);var ge=function(){return Object(k.jsxs)("div",{className:"Page404",children:[Object(k.jsx)("p",{children:"The page you are looking for does not exist."}),Object(k.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/t3otBjVZzT0?autoplay=1",allow:"autoplay",title:"Page not Found"})]})},xe=a(507),Ce=a(516),ye=a(517);a(474),a(475);var ve=function(e){var t=Object(o.useState)(""),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(o.useState)(""),c=Object(i.a)(s,2),u=(c[0],c[1]),l=Object(o.useState)(0),p=Object(i.a)(l,2),d=p[0],h=p[1],m=Object(o.useState)(0),j=Object(i.a)(m,2),b=j[0],O=j[1],f=Object(o.useState)(null),g=Object(i.a)(f,2),x=(g[0],g[1],Object(o.useState)("")),C=Object(i.a)(x,2),y=(C[0],C[1],Object(o.useState)("")),v=Object(i.a)(y,2),S=v[0],w=v[1],T=Object(o.useState)(""),N=Object(i.a)(T,2),D=N[0],M=N[1],E=Object(o.useState)(""),I=Object(i.a)(E,2),P=(I[0],I[1],Object(o.useState)(null)),B=Object(i.a)(P,2),Y=(B[0],B[1]),G=Object(be.a)(),H=G.register,z=G.handleSubmit;function V(){return(V=Object(R.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new FormData).append("title",t.title),a.append("description",t.description),a.append("amount",t.amount.toString()),a.append("price",t.price.toString()),a.append("category",t.category),a.append("startDate",t.startDate.toString()),a.append("endDate",t.endDate.toString()),a.append("image",t.image[0]),e.next=12,ae.post(oe.urls.addCoupon,a);case 12:e.sent,_.success("New coupon has been successfully added to the database"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),_.error("Error: "+e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}return Object(k.jsx)(ce.a,{className:"AddCoupon",children:Object(k.jsxs)("form",{onSubmit:z((function(e){return V.apply(this,arguments)})),children:[Object(k.jsxs)(ce.a,{className:"data-fields",children:[Object(k.jsx)("h2",{children:"Add Coupon"}),Object(k.jsx)(ue.a,{className:"textfield",variant:"outlined",onChange:function(e){return H({type:"text",required:!0,name:"title",value:r(e.target.value)})},inputRef:H({required:{value:!0,message:"Coupon Title Required"},minLength:{value:3,message:"Coupon Title too short"}}),name:"title",label:"Title"}),Object(k.jsx)(ue.a,{className:"textfield",variant:"outlined",onChange:function(e){return H({type:"text",required:!0,name:"description",value:u(e.target.value)})},inputRef:H({required:{value:!0,message:"Coupon Description Required"}}),name:"description",label:"Description"}),Object(k.jsx)("br",{}),Object(k.jsxs)(pe.a,{variant:"outlined",className:"textfield",children:[Object(k.jsx)(de.a,{children:"Category"}),Object(k.jsx)(he.a,{variant:"outlined",onChange:function(e){return H({type:"text",name:"category",value:e.target.value})},name:"category",label:"Category",type:"text",children:["FOOD","ELECTRICITY","RESTAURANT","VACATION","LIFESTYLE_AND_HEALTH","CULTURE_AND_ENTERTAINMENT","SPORTS","GAMES","SHOPPING"].map((function(e){return Object(k.jsx)(q.a,{value:e.valueOf(),children:e.replaceAll("_"," ")},e.toString())}))})]}),Object(k.jsx)("br",{}),Object(k.jsx)(ue.a,{className:"textfield",variant:"outlined",onChange:function(e){return H({type:"number",required:!0,name:"amount",value:h(+e.target.value)})},inputRef:H({required:{value:!0,message:"Coupon Amount Required"}}),name:"amount",label:"Amount",type:"number"}),Object(k.jsx)(ue.a,{className:"textfield",variant:"outlined",onChange:function(e){return H({type:"number",required:!0,name:"price",value:O(+e.target.value)})},inputRef:H({required:{value:!0,message:"Coupon Price Required"}}),name:"price",type:"number",label:"Coupon Price"}),Object(k.jsx)(ue.a,{className:"textfield",helperText:"Coupon Start Date ",variant:"outlined",onChange:function(e){return H({type:"date",required:!0,name:"startDate",value:w(e.target.value)})},inputRef:H({required:{value:!0,message:"Coupon Start Date Required"}}),name:"startDate",type:"date"}),Object(k.jsx)(ue.a,{className:"textfield",variant:"outlined",helperText:"Coupon end Date ",onChange:function(e){return H({type:"date",required:!0,name:"endDate",value:M(e.target.value)})},inputRef:H({required:{value:!0,message:"Coupon End Date Required"}}),name:"endDate",type:"date"}),Object(k.jsx)(ue.a,{className:"textfield",variant:"outlined",onChange:function(e){return H({type:"file",required:!0,name:"image",value:Y(e.target.value)})},inputRef:H({required:{value:!0,message:"Coupon Image Required"}}),name:"image",helperText:"Coupon Image",type:"file"})]}),Object(k.jsx)(U.a,{onClick:e.onClose,disabled:!n||S>D||0===b||d<=0,className:"confirm-btn",type:"submit",endIcon:Object(k.jsx)(F.a,{icon:L.a}),children:"Confirm"})]})})};a(476);var Se=function(e){var t=Object(o.useState)(e.couponToUpdate.id),a=Object(i.a)(t,2),n=(a[0],a[1],Object(o.useState)(e.couponToUpdate.title)),r=Object(i.a)(n,2),s=r[0],c=r[1],u=Object(o.useState)(e.couponToUpdate.description),l=Object(i.a)(u,2),p=(l[0],l[1]),d=Object(o.useState)(e.couponToUpdate.amount),h=Object(i.a)(d,2),m=h[0],j=h[1],b=Object(o.useState)(e.couponToUpdate.price),O=Object(i.a)(b,2),f=O[0],g=O[1],x=Object(o.useState)(e.couponToUpdate.company),C=Object(i.a)(x,2),y=(C[0],C[1],Object(o.useState)(e.couponToUpdate.category.toString())),v=Object(i.a)(y,2),S=v[0],w=(v[1],Object(o.useState)(e.couponToUpdate.startDate.toString())),T=Object(i.a)(w,2),N=T[0],D=T[1],M=Object(o.useState)(e.couponToUpdate.endDate.toString()),E=Object(i.a)(M,2),I=E[0],P=E[1],B=Object(o.useState)(""),G=Object(i.a)(B,2),H=(G[0],G[1],Object(o.useState)(null)),z=Object(i.a)(H,2),V=z[0],K=z[1],J=Object(be.a)(),W=J.register,X=J.handleSubmit;function Z(){return(Z=Object(R.a)(A.a.mark((function t(a){var n,o;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(n=new FormData).append("id",e.couponToUpdate.id.toString()),n.append("title",a.title),n.append("description",a.description),n.append("amount",a.amount.toString()),n.append("price",a.price.toString()),void 0!==a.category?n.append("category",a.category):n.append("category",S),n.append("startDate",a.startDate.toString()),n.append("endDate",a.endDate.toString()),null!=V&&n.append("image",a.image[0]),t.next=13,ae.put(oe.urls.updateCoupon,n);case 13:o=t.sent,o.data,_.success("Coupon with id "+e.couponToUpdate.id+" has been successfully updated in the database"),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),_.error("Error: "+t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))).apply(this,arguments)}return J.errors,Object(Y.g)(),Object(k.jsx)(ce.a,{className:"UpdateCoupon",children:Object(k.jsxs)("form",{onSubmit:X((function(e){return Z.apply(this,arguments)})),children:[Object(k.jsxs)(ce.a,{className:"data-fields",children:[Object(k.jsx)("h2",{children:"Update Coupon"}),Object(k.jsxs)("h3",{children:["Coupon ID:",e.couponToUpdate.id]}),Object(k.jsx)("img",{className:"Box",src:oe.urls.getCouponImage+e.couponToUpdate.imageName,style:{width:250,height:170}}),Object(k.jsx)(ue.a,{className:"textfield",variant:"outlined",defaultValue:e.couponToUpdate.title,onChange:function(e){return W({type:"text",required:!0,name:"title",value:c(e.target.value)})},inputRef:W({required:{value:!0,message:"Coupon Title Required"},minLength:{value:3,message:"Coupon Title too short"}}),name:"title",label:"Title"}),Object(k.jsx)(ue.a,{className:"textfield",variant:"outlined",defaultValue:e.couponToUpdate.description,onChange:function(e){return W({type:"text",required:!0,name:"description",value:p(e.target.value)})},inputRef:W({required:{value:!0,message:"Coupon Description Required"}}),name:"description",label:"Description"}),Object(k.jsx)("br",{}),Object(k.jsxs)(pe.a,{variant:"outlined",className:"textfield",children:[Object(k.jsx)(de.a,{children:"Category"}),Object(k.jsx)(he.a,{variant:"outlined",defaultValue:e.couponToUpdate.category,onChange:function(e){return W({type:"text",required:!0,name:"category",value:e.target.value})},name:"category",label:"Category",type:"text",children:["FOOD","ELECTRICITY","RESTAURANT","VACATION","LIFESTYLE_AND_HEALTH","CULTURE_AND_ENTERTAINMENT","SPORTS","GAMES","SHOPPING"].map((function(e){return Object(k.jsx)(q.a,{value:e.valueOf(),children:e.replaceAll("_"," ")},e.toString())}))})]}),Object(k.jsx)("br",{}),Object(k.jsx)(ue.a,{className:"textfield",defaultValue:e.couponToUpdate.amount,variant:"outlined",onChange:function(e){return W({type:"number",required:!0,name:"amount",value:j(+e.target.value)})},inputRef:W({required:{value:!0,message:"Coupon Amount Required"}}),name:"amount",label:"Amount",type:"number"}),Object(k.jsx)(ue.a,{className:"textfield",variant:"outlined",defaultValue:e.couponToUpdate.price,onChange:function(e){return W({type:"number",required:!0,name:"price",value:g(+e.target.value)})},inputRef:W({required:{value:!0,message:"Coupon Price Required"}}),name:"price",type:"number",label:"Coupon Price"}),Object(k.jsx)(ue.a,{className:"textfield",helperText:"Coupon Start Date ",defaultValue:e.couponToUpdate.startDate,variant:"outlined",onChange:function(e){return W({type:"date",required:!0,name:"startDate",value:D(e.target.value)})},inputRef:W({required:{value:!0,message:"Coupon Start Date Required"}}),name:"startDate",type:"date"}),Object(k.jsx)(ue.a,{className:"textfield",variant:"outlined",defaultValue:e.couponToUpdate.endDate,helperText:"Coupon end Date ",onChange:function(e){return W({type:"date",required:!0,name:"endDate",value:P(e.target.value)})},inputRef:W({required:{value:!0,message:"Coupon End Date Required"}}),name:"endDate",type:"date"}),Object(k.jsx)(ue.a,{className:"textfield",variant:"outlined",onChange:function(e){return W({type:"file",required:!1,name:"image",value:K(e.target.value)})},inputRef:W({required:{value:!1,message:"Coupon Image Required"}}),name:"image",helperText:"Coupon Image",type:"file"})]}),Object(k.jsx)(U.a,{onClick:e.onClose,disabled:!s||!S||N>I||0===f||m<=0,className:"confirm-btn",type:"submit",endIcon:Object(k.jsx)(F.a,{icon:L.a}),children:"Confirm"})]})})},we=function(e){Object(M.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onShow=function(e){w.c,e.id,console.log(e)},n.tableRef=r.a.createRef(),n.state={selectedRow:null,anchorEl:null,addDialog:!1,updateDialog:!1,coupons:[]},n}return Object(D.a)(a,[{key:"componentDidMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getCompanyCoupons();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCompanyCoupons",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f.getState().AuthState.user.userType!==n.COMPANY&&this.props.history.push("/home"),e.next=4,ae.get(oe.urls.getCompanyCoupons);case 4:t=e.sent,this.setState({coupons:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({coupons:[]});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getByCategory",value:function(){var e=Object(R.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get(oe.urls.getCompanyCouponsByCategory+t);case 3:a=e.sent,this.setState({coupons:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_.error("No coupons found with category "+t);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getByMaxPrice",value:function(){var e=Object(R.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get(oe.urls.getCompanyCouponsByMaxPrice+t);case 3:a=e.sent,this.setState({coupons:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_.error("No coupons found below max price of "+t);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onDelete",value:function(){var e=Object(R.a)(A.a.mark((function e(t){var a,n,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.delete(oe.urls.deleteCoupon+t.id);case 3:a=e.sent,n=a.data,(o=Object(X.a)(this.state.coupons)).splice(this.state.coupons.indexOf(n),1),this.setState({coupons:o}),_.success("Coupon with ID "+t.id+" has been successfully deleted from the database"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),_.error("Error: "+e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=["FOOD","ELECTRICITY","RESTAURANT","VACATION","LIFESTYLE_AND_HEALTH","CULTURE_AND_ENTERTAINMENT","SPORTS","GAMES","SHOPPING"],a=0,n=function(){e.setState({addDialog:!1})},o=function(){e.getCompanyCoupons(),e.setState({updateDialog:!1})};return Object(k.jsxs)("div",{className:"CouponsTable",children:[Object(k.jsxs)(U.a,{className:"Refresh Box","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(){return e.getCompanyCoupons()},startIcon:Object(k.jsx)(F.a,{icon:L.g}),children:[" ","Refresh Table"]}),Object(k.jsxs)(xe.a,{open:!0===this.state.addDialog,onClose:n,children:[Object(k.jsx)(le.a,{onClick:n,children:Object(k.jsx)(Ce.a,{})})," ",Object(k.jsx)(ve,{onClose:n})]}),Object(k.jsxs)(U.a,{className:"AddCoupon Box",onClick:function(){console.log(e),e.setState({addDialog:!0})},style:{color:"antiquewhite"},startIcon:Object(k.jsx)(F.a,{icon:L.d}),children:[" ","ADD A NEW COUPON"]}),Object(k.jsxs)(xe.a,{open:!0===this.state.updateDialog,onClose:o,children:[Object(k.jsx)(le.a,{onClick:o,children:Object(k.jsx)(Ce.a,{})})," ",Object(k.jsx)(Se,{couponToUpdate:this.state.selectedRow,onClose:o})]}),this.state.selectedRow&&Object(k.jsxs)(U.a,{className:"UpdateCoupon Box",style:{color:"antiquewhite"},onClick:function(){e.setState({updateDialog:!0})},startIcon:Object(k.jsx)(F.a,{icon:L.c}),children:[" ","UPDATE SELECTED COUPON"]}),Object(k.jsx)(Q.a,{localization:{body:{editRow:{deleteText:"Are you sure you want to this coupon from the database?"}}},title:"Coupons",columns:[{title:"ID",field:"id"},{title:"Category",field:"category",editComponent:function(e){return Object(k.jsx)(he.a,{value:e.value,onChange:function(t){e.onChange(t.target.value)},children:t.map((function(e){return Object(k.jsx)(q.a,{value:e.valueOf(),children:e.replaceAll("_"," ")},e.toString())}))})}},{title:"Title",field:"title",width:"10%"},{title:"Description",field:"description"},{title:"Amount",field:"amount",type:"numeric"},{title:"Price",field:"price"},{title:"Start Date",field:"startDate",type:"date"},{title:"End Date",field:"endDate",type:"date"},{title:"Image",field:"image",render:function(e){return Object(k.jsx)("img",{src:oe.urls.getCouponImage+e.imageName,style:{width:60}})},editComponent:function(e){return Object(k.jsx)("div",{children:Object(k.jsx)("input",{type:"file",accept:"image/*",multiple:!0,name:"image",onChange:function(t){e.onChange(t.target.value)}})})}}],data:this.state.coupons,onRowClick:function(t,a){e.setState({selectedRow:a}),console.log(e.state.selectedRow),e.state.selectedRow===a&&e.setState({selectedRow:null})},options:{search:!1,rowStyle:function(t){return{backgroundColor:e.state.selectedRow===t?"#67aeae":"#FFF"}}},editable:{onRowDelete:function(t){return new Promise((function(a,n){e.onDelete(t),a()}))}}}),Object(k.jsxs)("span",{children:[Object(k.jsxs)(U.a,{className:"SelectCategory Box","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(t){e.setState({anchorEl:t.currentTarget})},startIcon:Object(k.jsx)(F.a,{icon:L.h}),children:[" ","Show By Category"]}),Object(k.jsxs)(B.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:function(){e.setState({anchorEl:null})},children:[Object(k.jsx)(q.a,{onClick:function(){return e.componentDidMount()},children:"ALL"}),t.map((function(t){return Object(k.jsx)(q.a,{onClick:function(){return e.getByCategory(t)},value:t.valueOf(),children:t.replaceAll("_"," ")},t.toString())}))]})]}),Object(k.jsx)("span",{children:this.state.selectedRow&&Object(k.jsx)(w.c,{className:"Box",to:"/couponCard/"+this.state.selectedRow.id,children:Object(k.jsx)(U.a,{className:"CouponButton",startIcon:Object(k.jsx)(F.a,{icon:L.b}),children:"Show selected Coupon"})})}),Object(k.jsx)("br",{}),Object(k.jsx)("span",{className:"Textfield Box",children:Object(k.jsx)(ue.a,{className:"InputFindPrice",style:{width:320},placeholder:"FIND BY MAX PRICE",onChange:function(e){return a=+e.target.value},InputProps:{endAdornment:Object(k.jsx)(le.a,{onClick:function(){return e.getByMaxPrice(a)},children:Object(k.jsx)(ye.a,{})})},children:"Price"})})]})}}]),a}(o.Component),ke=(a(477),function(e){Object(M.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onBuy=function(){var e=Object(R.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.post(oe.urls.purchaseCoupon,t);case 3:e.sent,_.success("You successfully purchased "+n.state.selectedRow.title+" coupon"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_.error("You cannot buy a coupon you already have");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.state={coupons:[],selectedRow:null},n}return Object(D.a)(a,[{key:"componentDidMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f.getState().AuthState.user.userType!==n.CUSTOMER&&this.props.history.push("/home"),e.next=4,ae.get(oe.urls.getAllCoupons);case 4:t=e.sent,this.setState({coupons:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({coupons:[]});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"AllCouponsSTable",children:[Object(k.jsx)(Q.a,{data:this.state.coupons.sort((function(e,t){return e.id-t.id})),onRowClick:function(t,a){e.setState({selectedRow:a}),console.log(e.state.selectedRow),e.state.selectedRow===a&&e.setState({selectedRow:null})},options:{search:!1,rowStyle:function(t){return{backgroundColor:e.state.selectedRow===t?"#67aeae":"#FFF"}}},components:{Action:function(e){return Object(k.jsx)(U.a,{onClick:function(){return e.action.onClick()},children:"Buy"})}},title:"Available Coupons",columns:[{title:"ID",field:"id"},{title:"Category",field:"category",width:"50%"},{title:"Company",field:"company.name"},{title:"Title",field:"title",width:"60%"},{title:"Description",field:"description"},{title:"Price",field:"price",width:"50%"},{title:"Start Date",field:"startDate",type:"date"},{title:"End Date",field:"endDate",type:"date"},{title:"image",field:"image",render:function(e){return Object(k.jsx)("img",{src:oe.urls.getCouponImage+e.imageName,style:{width:60}})}}]}),this.state.selectedRow&&Object(k.jsx)("span",{className:"Box",children:Object(k.jsx)(U.a,{className:"CouponButton",onClick:function(){return e.onBuy(e.state.selectedRow)},startIcon:Object(k.jsx)(F.a,{icon:L.e}),children:"Buy Coupon"})}),Object(k.jsx)("span",{children:this.state.selectedRow&&Object(k.jsx)(w.c,{className:"Coupons Box",to:"/couponCard/"+this.state.selectedRow.id,children:Object(k.jsx)(U.a,{className:"CouponButton",startIcon:Object(k.jsx)(F.a,{icon:L.b}),children:"Show Coupon"})})})]})}}]),a}(o.Component)),Te=(a(478),function(e){Object(M.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={coupons:[],selectedRow:null,anchorEl:null},n}return Object(D.a)(a,[{key:"componentDidMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f.getState().AuthState.user.userType!==n.CUSTOMER&&this.props.history.push("/home"),e.next=4,ae.get(oe.urls.getCustomerCoupons);case 4:t=e.sent,this.setState({coupons:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({coupons:[]});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getByCategory",value:function(){var e=Object(R.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get(oe.urls.getCustomerCouponsByCategory+t);case 3:a=e.sent,this.setState({coupons:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_.error("You have no coupons of category "+t);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getByMaxPrice",value:function(){var e=Object(R.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get(oe.urls.getCustomerCouponsByMaxPrice+t);case 3:a=e.sent,this.setState({coupons:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_.error("You have no coupons below max price of "+t);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=0;return Object(k.jsxs)("div",{className:"CustomerCouponsTable",children:[Object(k.jsx)(Q.a,{data:this.state.coupons.sort((function(e,t){return e.id-t.id})),onRowClick:function(t,a){e.setState({selectedRow:a}),console.log(e.state.selectedRow),e.state.selectedRow===a&&e.setState({selectedRow:null})},options:{search:!1,rowStyle:function(t){return{backgroundColor:e.state.selectedRow===t?"#67aeae":"#FFF"}}},title:"My Coupons",columns:[{title:"ID",field:"id"},{title:"Category",field:"category",width:"50%"},{title:"Company",field:"company.name"},{title:"Title",field:"title",width:"60%"},{title:"Description",field:"description"},{title:"Price",field:"price",width:"50%"},{title:"Start Date",field:"startDate",type:"date"},{title:"End Date",field:"endDate",type:"date"},{title:"image",field:"image",render:function(e){return Object(k.jsx)("img",{src:oe.urls.getCouponImage+e.imageName,style:{width:60}})}}]}),Object(k.jsxs)("span",{children:[Object(k.jsx)(U.a,{className:"SelectCategory Box","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(t){e.setState({anchorEl:t.currentTarget})},startIcon:Object(k.jsx)(F.a,{icon:L.h}),children:" Show By Category"}),Object(k.jsxs)(B.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:function(){e.setState({anchorEl:null})},children:[Object(k.jsx)(q.a,{onClick:function(){return e.componentDidMount()},children:"ALL"}),["FOOD","ELECTRICITY","RESTAURANT","VACATION","LIFESTYLE_AND_HEALTH","CULTURE_AND_ENTERTAINMENT","SPORTS","GAMES","SHOPPING"].map((function(t){return Object(k.jsx)(q.a,{onClick:function(){return e.getByCategory(t)},value:t.valueOf(),children:t.replaceAll("_"," ")},t.toString())}))]})]}),Object(k.jsx)("span",{children:Object(k.jsx)("b",{children:this.state.selectedRow&&Object(k.jsx)(w.c,{className:"Box",to:"/couponCard/"+this.state.selectedRow.id,children:Object(k.jsx)(U.a,{className:"CouponButton",startIcon:Object(k.jsx)(F.a,{icon:L.b}),children:"Show selected Coupon"})})})}),Object(k.jsx)("br",{}),Object(k.jsx)("span",{className:"Textfield Box",children:Object(k.jsx)(ue.a,{style:{width:320},className:"InputFindPrice",placeholder:"FIND BY MAX PRICE",onChange:function(e){return t=+e.target.value},InputProps:{endAdornment:Object(k.jsx)(le.a,{onClick:function(){return e.getByMaxPrice(t)},children:Object(k.jsx)(ye.a,{})})},children:"Price"})})]})}}]),a}(o.Component)),Ne=(a(479),function(e){Object(M.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onBuy=function(){var e=Object(R.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.post(oe.urls.purchaseCoupon,t);case 3:e.sent,_.success("You successfully purchased "+n.state.coupon.title+" coupon"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_.error("You cannot buy a coupon you already have");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.state={coupon:null,updateDialog:!1,pic:null},n}return Object(D.a)(a,[{key:"componentDidMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t,a,o,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!f.getState().AuthState.user&&this.props.history.push("/home"),t=this.props.match.params.id,a="",f.getState().AuthState.user.userType!==n.COMPANY){e.next=10;break}return a=oe.urls.getOneCouponCompany,e.next=8,ae.get(a+t);case 8:o=e.sent,this.setState({coupon:o.data});case 10:if(f.getState().AuthState.user.userType!==n.CUSTOMER){e.next=16;break}return a=oe.urls.getOneCouponCustomer,e.next=14,ae.get(a+t);case 14:r=e.sent,this.setState({coupon:r.data});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),alert("Error: "+e.t0);case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=function(){e.setState({updateDialog:!1})};return Object(k.jsxs)("div",{className:"CouponCard Box",children:[this.state.coupon&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h1",{children:this.state.coupon.title}),Object(k.jsx)("img",{style:{width:450,height:300},src:oe.urls.getCouponImage+this.state.coupon.imageName}),Object(k.jsxs)("h3",{children:["Description: ",this.state.coupon.description]}),Object(k.jsxs)("h3",{children:["Company: ",this.state.coupon.company.name]}),Object(k.jsxs)("h3",{children:["Price: ",this.state.coupon.price]}),f.getState().AuthState.user.userType===n.COMPANY&&Object(k.jsxs)("h3",{children:["Amount: ",this.state.coupon.amount]}),Object(k.jsxs)("h3",{children:["Coupon Start Date: ",this.state.coupon.startDate]}),Object(k.jsxs)("h3",{children:["Coupon End Date: ",this.state.coupon.endDate]}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{})]}),Object(k.jsxs)("span",{className:"buttons",children:[f.getState().AuthState.user.userType===n.CUSTOMER&&Object(k.jsx)(U.a,{style:{fontSize:"small",background:"black",color:"antiquewhite"},className:"box",onClick:function(){return e.onBuy(e.state.coupon)},children:"BUY THIS COUPON"}),f.getState().AuthState.user.userType===n.COMPANY&&Object(k.jsx)(U.a,{style:{fontSize:"small",background:"black",color:"antiquewhite"},className:"box",component:w.b,to:"/company/couponsTable",variant:"contained",color:"primary",children:"BACK"}),Object(k.jsxs)(xe.a,{open:!0===this.state.updateDialog,onClose:t,children:[Object(k.jsx)(le.a,{onClick:t,children:Object(k.jsx)(Ce.a,{})})," ",Object(k.jsx)(Se,{couponToUpdate:this.state.coupon,onClose:t})]}),f.getState().AuthState.user.userType===n.COMPANY&&Object(k.jsx)(U.a,{className:"couponUpdate",style:{color:"antiquewhite",fontSize:"small"},onClick:function(){e.setState({updateDialog:!0})},startIcon:Object(k.jsx)(F.a,{icon:L.c}),children:"UPDATE COUPON"}),f.getState().AuthState.user.userType===n.CUSTOMER&&Object(k.jsx)(U.a,{style:{fontSize:"small",background:"black",color:"antiquewhite"},className:"box",component:w.b,to:"/customer/allCouponsTable",variant:"contained",color:"primary",children:"BACK TO ALL COUPONS"}),f.getState().AuthState.user.userType===n.CUSTOMER&&Object(k.jsx)(U.a,{style:{fontSize:"small",background:"black",color:"antiquewhite"},className:"box",component:w.b,to:"/customer/CustomerCouponsTable",variant:"contained",color:"primary",children:"BACK TO MY COUPONS"})]})]})}}]),a}(o.Component)),Ae=(a(480),function(e){Object(M.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={company:null},n}return Object(D.a)(a,[{key:"componentDidMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t,a,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.id,a="",f.getState().AuthState.user.userType===n.COMPANY&&(a=oe.urls.getCompanyDetails),f.getState().AuthState.user.userType===n.ADMIN&&(a=oe.urls.getOneCompany+t),e.next=7,ae.get(a);case 7:o=e.sent,this.setState({company:o.data}),console.log(this.state),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert("Error: "+e.t0.message);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(k.jsxs)("div",{className:"CompanyCard Box",children:[this.state.company&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h1",{children:this.state.company.name}),Object(k.jsxs)("h3",{children:["Email: ",this.state.company.email]}),Object(k.jsxs)("h3",{children:["Password: ",this.state.company.password]})]}),Object(k.jsxs)("span",{children:[f.getState().AuthState.user.userType===n.COMPANY&&Object(k.jsx)(w.c,{style:{fontSize:"small",background:"black",color:"antiquewhite"},className:"box",to:"/company/couponsTable",children:"BACK TO COUPONS TABLE"}),f.getState().AuthState.user.userType===n.ADMIN&&Object(k.jsx)(w.c,{style:{fontSize:"small",background:"black",color:"antiquewhite"},className:"box",to:"/admin/companiesTable",children:"BACK TO ALL COMPANIES"})]})]})}}]),a}(o.Component)),Re=(a(481),function(e){Object(M.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={customer:null},n}return Object(D.a)(a,[{key:"componentDidMount",value:function(){var e=Object(R.a)(A.a.mark((function e(){var t,a,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.id,a="",f.getState().AuthState.user.userType===n.CUSTOMER&&(a=oe.urls.getCustomerDetails),f.getState().AuthState.user.userType===n.ADMIN&&(a="http://localhost:8080/admin/getOneCustomer?id="+t),e.next=7,ae.get(a);case 7:o=e.sent,this.setState({customer:o.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert("Error: "+e.t0.message);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(k.jsxs)("div",{className:"CompanyCard Box",children:[this.state.customer&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h1",{children:this.state.customer.firstName+" "+this.state.customer.lastName}),Object(k.jsxs)("h3",{children:["Email: ",this.state.customer.email]}),Object(k.jsxs)("h3",{children:["Password: ",this.state.customer.password]})]}),Object(k.jsxs)("span",{children:[f.getState().AuthState.user.userType===n.CUSTOMER&&Object(k.jsx)(w.c,{style:{fontSize:"small",background:"black",color:"antiquewhite"},className:"box",to:"/customer/CustomerCouponsTable",children:"BACK TO MY COUPONS"}),f.getState().AuthState.user.userType===n.ADMIN&&Object(k.jsx)(w.c,{style:{fontSize:"small",background:"black",color:"antiquewhite"},className:"box",to:"/admin/customersTable",children:"BACK TO ALL CUSTOMERS"})]})]})}}]),a}(o.Component));var De=function(){return Object(k.jsx)("div",{className:"Routing",children:Object(k.jsxs)(Y.d,{children:[Object(k.jsx)(Y.b,{path:"/home",component:fe,exact:!0}),Object(k.jsx)(Y.b,{path:"/admin/menu",component:z,exact:!0}),Object(k.jsx)(Y.b,{path:"/admin/companiesTable",component:re,exact:!0}),Object(k.jsx)(Y.b,{path:"/admin/customersTable",component:se,exact:!0}),Object(k.jsx)(Y.b,{path:"/company/menu",component:K,exact:!0}),Object(k.jsx)(Y.b,{path:"/customer/menu",component:V,exact:!0}),Object(k.jsx)(Y.b,{path:"/company/couponsTable",component:we,exact:!0}),Object(k.jsx)(Y.b,{path:"/customer/allCouponsTable",component:ke,exact:!0}),Object(k.jsx)(Y.b,{path:"/customer/CustomerCouponsTable",component:Te,exact:!0}),Object(k.jsx)(Y.b,{path:"/couponCard/:id",component:Ne,exact:!0}),Object(k.jsx)(Y.b,{path:"/companyCard/",component:Ae,exact:!0}),Object(k.jsx)(Y.b,{path:"/companyCard/:id",component:Ae,exact:!0}),Object(k.jsx)(Y.b,{path:"/customerCard/",component:Re,exact:!0}),Object(k.jsx)(Y.b,{path:"/customerCard/:id",component:Re,exact:!0}),Object(k.jsx)(Y.a,{from:"/",to:"/home",exact:!0}),Object(k.jsx)(Y.b,{component:ge})]})})},Me=a(122),Ee=a(506),Ie=Object(Me.a)({typography:{fontFamily:["Zen Dots","cursive"].join(","),fontSize:18}});var Pe=function(){return Object(k.jsx)(Ee.a,{theme:Ie,children:Object(k.jsx)("div",{className:"Layout",children:Object(k.jsxs)(w.a,{children:[Object(k.jsx)("header",{children:Object(k.jsx)(J,{})}),Object(k.jsx)("main",{children:Object(k.jsx)(De,{})}),Object(k.jsx)("footer",{children:Object(k.jsx)(W,{})})]})})})};c.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(Pe,{})}),document.getElementById("root")),u()}},[[482,1,2]]]);
//# sourceMappingURL=main.133c2919.chunk.js.map